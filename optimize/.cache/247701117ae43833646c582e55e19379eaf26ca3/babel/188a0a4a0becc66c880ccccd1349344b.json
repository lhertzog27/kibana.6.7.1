{"remainingRequest":"/home/anthony/git_workspaces/kibana/node_modules/thread-loader/dist/cjs.js??ref--9-1!/home/anthony/git_workspaces/kibana/node_modules/babel-loader/lib/index.js??ref--9-2!/home/anthony/git_workspaces/kibana/src/ui/public/kbn_top_nav/kbn_top_nav_controller.js","dependencies":[{"path":"/home/anthony/git_workspaces/kibana/src/ui/public/kbn_top_nav/kbn_top_nav_controller.js","mtime":1567631711742},{"path":"/home/anthony/git_workspaces/kibana/node_modules/cache-loader/dist/cjs.js","mtime":1567666236302},{"path":"/home/anthony/git_workspaces/kibana/node_modules/thread-loader/dist/cjs.js","mtime":1567666239443},{"path":"/home/anthony/git_workspaces/kibana/node_modules/babel-loader/lib/index.js","mtime":1567666227676}],"contextDependencies":[],"result":["'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }(); /*\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * Licensed to Elasticsearch B.V. under one or more contributor\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * license agreements. See the NOTICE file distributed with\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * this work for additional information regarding copyright\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * ownership. Elasticsearch B.V. licenses this file to you under\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * the Apache License, Version 2.0 (the \"License\"); you may\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * not use this file except in compliance with the License.\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * You may obtain a copy of the License at\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      *\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      *    http://www.apache.org/licenses/LICENSE-2.0\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      *\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * Unless required by applicable law or agreed to in writing,\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * software distributed under the License is distributed on an\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * KIND, either express or implied.  See the License for the\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * specific language governing permissions and limitations\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * under the License.\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      */\n\nexports.KbnTopNavControllerProvider = KbnTopNavControllerProvider;\n\nvar _lodash = require('lodash');\n\nvar _chrome = require('../chrome');\n\nvar _chrome2 = _interopRequireDefault(_chrome);\n\nvar _filter = require('../chrome/config/filter.html');\n\nvar _filter2 = _interopRequireDefault(_filter);\n\nvar _interval = require('../chrome/config/interval.html');\n\nvar _interval2 = _interopRequireDefault(_interval);\n\nvar _i18n = require('@kbn/i18n');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction KbnTopNavControllerProvider($compile) {\n  return function () {\n    function KbnTopNavController() {\n      var _this = this;\n\n      var opts = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n\n      _classCallCheck(this, KbnTopNavController);\n\n      this.setCurrent = function (key) {\n        if (key && !_this.templates.hasOwnProperty(key)) {\n          throw new TypeError('KbnTopNav: unknown template key \"' + key + '\"');\n        }\n\n        _this.currentKey = key || null;\n        _this._render();\n      };\n\n      this.getCurrent = function () {\n        return _this.currentKey;\n      };\n\n      this.isCurrent = function (key) {\n        return _this.getCurrent() === key;\n      };\n\n      this.open = function (key) {\n        _this.setCurrent(key);\n      };\n\n      this.close = function (key) {\n        (!key || _this.isCurrent(key)) && _this.setCurrent(null);\n      };\n\n      this.toggle = function (key) {\n        _this.setCurrent(_this.isCurrent(key) ? null : key);\n      };\n\n      this.click = function (key) {\n        _this.handleClick(_this.getItem(key));\n      };\n\n      this.getItem = function (key) {\n        return _this.menuItems.find(function (i) {\n          return i.key === key;\n        });\n      };\n\n      this.handleClick = function (menuItem, event) {\n        if (menuItem.disableButton()) {\n          return false;\n        }\n        // event will be undefined when method is called from click\n        menuItem.run(menuItem, _this, (0, _lodash.get)(event, 'target'));\n      };\n\n      if (opts instanceof KbnTopNavController) {\n        return opts;\n      }\n\n      this.opts = [];\n      this.menuItems = [];\n      this.currentKey = null;\n      this.templates = {\n        interval: _interval2.default,\n        filter: _filter2.default\n      };\n      this.locals = new Map();\n\n      this.addItems(opts);\n    }\n\n    _createClass(KbnTopNavController, [{\n      key: 'isVisible',\n      value: function isVisible() {\n        return _chrome2.default.getVisible();\n      }\n    }, {\n      key: 'addItems',\n      value: function addItems(rawOpts) {\n        var _this2 = this;\n\n        if (!(0, _lodash.isArray)(rawOpts)) rawOpts = [rawOpts];\n\n        rawOpts.forEach(function (rawOpt) {\n          var opt = _this2._applyOptDefault(rawOpt);\n          if (!opt.key) throw new TypeError('KbnTopNav: menu items must have a key');\n          _this2.opts.push(opt);\n          if (!opt.hideButton()) _this2.menuItems.push(opt);\n          if (opt.template) _this2.templates[opt.key] = opt.template;\n          if (opt.locals) {\n            _this2.locals.set(opt.key, opt.locals);\n          }\n        });\n      }\n\n      // change the current key and rerender\n\n\n      // little usability helpers\n\n    }, {\n      key: '_applyOptDefault',\n\n      // apply the defaults to individual options\n      value: function _applyOptDefault() {\n        var _this3 = this;\n\n        var opt = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n        var optLabel = opt.label ? opt.label : (0, _lodash.capitalize)(opt.key);\n        var defaultedOpt = _extends({\n          label: optLabel,\n          hasFunction: !!opt.run,\n          description: opt.run ? optLabel : _i18n.i18n.translate('common.ui.topNav.toggleViewAriaLabel', {\n            defaultMessage: 'Toggle {optLabel} view',\n            values: { optLabel: optLabel }\n          }),\n          run: function run(item) {\n            return _this3.toggle(item.key);\n          }\n        }, opt);\n\n        defaultedOpt.hideButton = (0, _lodash.isFunction)(opt.hideButton) ? opt.hideButton : function () {\n          return !!opt.hideButton;\n        };\n        defaultedOpt.disableButton = (0, _lodash.isFunction)(opt.disableButton) ? opt.disableButton : function () {\n          return !!opt.disableButton;\n        };\n        defaultedOpt.tooltip = (0, _lodash.isFunction)(opt.tooltip) ? opt.tooltip : function () {\n          return opt.tooltip;\n        };\n\n        return defaultedOpt;\n      }\n\n      // enable actual rendering\n\n    }, {\n      key: '_link',\n      value: function _link($scope, $element) {\n        this.$scope = $scope;\n        this.$element = $element;\n        this._render();\n      }\n\n      // render the current template to the $element if possible\n      // function is idempotent\n\n    }, {\n      key: '_render',\n      value: function _render() {\n        var $scope = this.$scope,\n            $element = this.$element,\n            rendered = this.rendered,\n            currentKey = this.currentKey;\n\n        var templateToRender = currentKey && this.templates[currentKey];\n\n        if (rendered) {\n          if (rendered.key !== currentKey) {\n            // we have an invalid render, clear it\n            rendered.$childScope.$destroy();\n            rendered.$el.remove();\n            this.rendered = null;\n          } else {\n            // our previous render is still valid, keep it\n            return;\n          }\n        }\n\n        if (!templateToRender || !$scope || !$element) {\n          // we either have nothing to render, or we can't render\n          return;\n        }\n\n        var $childScope = $scope.$new();\n        if (this.locals.has(currentKey)) {\n          Object.assign($childScope, this.locals.get(currentKey));\n        }\n        var $el = $element.find('#template_wrapper').html(templateToRender).contents();\n        $compile($el)($childScope);\n\n        this.rendered = { $childScope: $childScope, $el: $el, key: currentKey };\n      }\n    }]);\n\n    return KbnTopNavController;\n  }();\n}",null]}