{"remainingRequest":"/home/anthony/git_workspaces/kibana/node_modules/thread-loader/dist/cjs.js??ref--9-1!/home/anthony/git_workspaces/kibana/node_modules/babel-loader/lib/index.js??ref--9-2!/home/anthony/git_workspaces/kibana/src/legacy/core_plugins/metrics/public/components/vis_types/timeseries/series.js","dependencies":[{"path":"/home/anthony/git_workspaces/kibana/src/legacy/core_plugins/metrics/public/components/vis_types/timeseries/series.js","mtime":1567631711630},{"path":"/home/anthony/git_workspaces/kibana/node_modules/cache-loader/dist/cjs.js","mtime":1567666236302},{"path":"/home/anthony/git_workspaces/kibana/node_modules/thread-loader/dist/cjs.js","mtime":1567666239443},{"path":"/home/anthony/git_workspaces/kibana/node_modules/babel-loader/lib/index.js","mtime":1567666227676}],"contextDependencies":[],"result":["'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; /*\n                                                                                                                                                                                                                                                                   * Licensed to Elasticsearch B.V. under one or more contributor\n                                                                                                                                                                                                                                                                   * license agreements. See the NOTICE file distributed with\n                                                                                                                                                                                                                                                                   * this work for additional information regarding copyright\n                                                                                                                                                                                                                                                                   * ownership. Elasticsearch B.V. licenses this file to you under\n                                                                                                                                                                                                                                                                   * the Apache License, Version 2.0 (the \"License\"); you may\n                                                                                                                                                                                                                                                                   * not use this file except in compliance with the License.\n                                                                                                                                                                                                                                                                   * You may obtain a copy of the License at\n                                                                                                                                                                                                                                                                   *\n                                                                                                                                                                                                                                                                   *    http://www.apache.org/licenses/LICENSE-2.0\n                                                                                                                                                                                                                                                                   *\n                                                                                                                                                                                                                                                                   * Unless required by applicable law or agreed to in writing,\n                                                                                                                                                                                                                                                                   * software distributed under the License is distributed on an\n                                                                                                                                                                                                                                                                   * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n                                                                                                                                                                                                                                                                   * KIND, either express or implied.  See the License for the\n                                                                                                                                                                                                                                                                   * specific language governing permissions and limitations\n                                                                                                                                                                                                                                                                   * under the License.\n                                                                                                                                                                                                                                                                   */\n\nvar _propTypes = require('prop-types');\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _color_picker = require('../../color_picker');\n\nvar _color_picker2 = _interopRequireDefault(_color_picker);\n\nvar _add_delete_buttons = require('../../add_delete_buttons');\n\nvar _add_delete_buttons2 = _interopRequireDefault(_add_delete_buttons);\n\nvar _config = require('./config');\n\nvar _config2 = _interopRequireDefault(_config);\n\nvar _reactAnythingSortable = require('react-anything-sortable');\n\nvar _reactAnythingSortable2 = _interopRequireDefault(_reactAnythingSortable);\n\nvar _eui = require('@elastic/eui');\n\nvar _split = require('../../split');\n\nvar _split2 = _interopRequireDefault(_split);\n\nvar _create_agg_row_render = require('../../lib/create_agg_row_render');\n\nvar _create_agg_row_render2 = _interopRequireDefault(_create_agg_row_render);\n\nvar _create_text_handler = require('../../lib/create_text_handler');\n\nvar _create_text_handler2 = _interopRequireDefault(_create_text_handler);\n\nvar _sort_keyhandler = require('../../lib/sort_keyhandler');\n\nvar _react3 = require('@kbn/i18n/react');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar TimeseriesSeries = (0, _react3.injectI18n)(function (props) {\n  var panel = props.panel,\n      fields = props.fields,\n      onAdd = props.onAdd,\n      onDelete = props.onDelete,\n      disableDelete = props.disableDelete,\n      disableAdd = props.disableAdd,\n      selectedTab = props.selectedTab,\n      onChange = props.onChange,\n      visible = props.visible,\n      intl = props.intl;\n\n\n  var defaults = { label: '' };\n  var model = _extends({}, defaults, props.model);\n\n  var handleChange = (0, _create_text_handler2.default)(onChange);\n  var aggs = model.metrics.map((0, _create_agg_row_render2.default)(props));\n\n  var caretIcon = 'arrowDown';\n  if (!visible) caretIcon = 'arrowRight';\n\n  var body = null;\n  if (visible) {\n    var seriesBody = void 0;\n    if (selectedTab === 'metrics') {\n      var handleSort = function handleSort(data) {\n        var metrics = data.map(function (id) {\n          return model.metrics.find(function (m) {\n            return m.id === id;\n          });\n        });\n        props.onChange({ metrics: metrics });\n      };\n      seriesBody = _react2.default.createElement(\n        'div',\n        null,\n        _react2.default.createElement(\n          _reactAnythingSortable2.default,\n          {\n            style: { cursor: 'default' },\n            dynamic: true,\n            direction: 'vertical',\n            onSort: handleSort,\n            sortHandle: 'tvbAggRow__sortHandle'\n          },\n          aggs\n        ),\n        _react2.default.createElement(\n          'div',\n          { className: 'tvbAggRow tvbAggRow--split' },\n          _react2.default.createElement(_split2.default, {\n            onChange: props.onChange,\n            fields: fields,\n            panel: panel,\n            model: model\n          })\n        )\n      );\n    } else {\n      seriesBody = _react2.default.createElement(_config2.default, {\n        fields: props.fields,\n        model: props.model,\n        onChange: props.onChange\n      });\n    }\n    body = _react2.default.createElement(\n      'div',\n      { className: 'tvbSeries__body' },\n      _react2.default.createElement(\n        _eui.EuiTabs,\n        { size: 's' },\n        _react2.default.createElement(\n          _eui.EuiTab,\n          {\n            isSelected: selectedTab === 'metrics',\n            onClick: function onClick() {\n              return props.switchTab('metrics');\n            }\n          },\n          _react2.default.createElement(_react3.FormattedMessage, {\n            id: 'tsvb.timeSeries.tab.metricsLabel',\n            defaultMessage: 'Metrics'\n          })\n        ),\n        _react2.default.createElement(\n          _eui.EuiTab,\n          {\n            'data-test-subj': 'seriesOptions',\n            isSelected: selectedTab === 'options',\n            onClick: function onClick() {\n              return props.switchTab('options');\n            }\n          },\n          _react2.default.createElement(_react3.FormattedMessage, {\n            id: 'tsvb.timeSeries.tab.optionsLabel',\n            defaultMessage: 'Options'\n          })\n        )\n      ),\n      seriesBody\n    );\n  }\n\n  var colorPicker = _react2.default.createElement(_color_picker2.default, {\n    disableTrash: true,\n    onChange: props.onChange,\n    name: 'color',\n    value: model.color\n  });\n\n  var dragHandle = void 0;\n  if (!props.disableDelete) {\n    dragHandle = _react2.default.createElement(\n      _eui.EuiFlexItem,\n      { grow: false },\n      _react2.default.createElement(\n        _eui.EuiToolTip,\n        {\n          content: _react2.default.createElement(_react3.FormattedMessage, {\n            id: 'tsvb.timeSeries.dragToSortLabel',\n            defaultMessage: 'Drag to sort'\n          })\n        },\n        _react2.default.createElement(_eui.EuiButtonIcon, {\n          className: 'tvbSeries__sortHandle',\n          iconType: 'grab',\n          'aria-label': intl.formatMessage({\n            id: 'tsvb.timeSeries.dragToSortAriaLabel',\n            defaultMessage: 'Sort series by pressing up/down'\n          }),\n          onKeyDown: (0, _sort_keyhandler.createUpDownHandler)(props.onShouldSortItem)\n        })\n      )\n    );\n  }\n\n  return _react2.default.createElement(\n    'div',\n    {\n      className: '' + props.className,\n      style: props.style,\n      onMouseDown: props.onMouseDown,\n      onTouchStart: props.onTouchStart\n    },\n    _react2.default.createElement(\n      _eui.EuiFlexGroup,\n      { responsive: false, gutterSize: 's', alignItems: 'center' },\n      _react2.default.createElement(\n        _eui.EuiFlexItem,\n        { grow: false },\n        _react2.default.createElement(_eui.EuiButtonIcon, {\n          iconType: caretIcon,\n          color: 'text',\n          onClick: props.toggleVisible,\n          'aria-label': intl.formatMessage({\n            id: 'tsvb.timeSeries.toggleSeriesEditorAriaLabel',\n            defaultMessage: 'Toggle series editor'\n          }),\n          'aria-expanded': props.visible\n        })\n      ),\n      _react2.default.createElement(\n        _eui.EuiFlexItem,\n        { grow: false },\n        colorPicker\n      ),\n      _react2.default.createElement(\n        _eui.EuiFlexItem,\n        null,\n        _react2.default.createElement(_eui.EuiFieldText, {\n          fullWidth: true,\n          onChange: handleChange('label'),\n          placeholder: intl.formatMessage({ id: 'tsvb.timeSeries.labelPlaceholder', defaultMessage: 'Label' }),\n          value: model.label\n        })\n      ),\n      dragHandle,\n      _react2.default.createElement(\n        _eui.EuiFlexItem,\n        { grow: false },\n        _react2.default.createElement(_add_delete_buttons2.default, {\n          addTooltip: intl.formatMessage({ id: 'tsvb.timeSeries.addSeriesTooltip', defaultMessage: 'Add Series' }),\n          deleteTooltip: intl.formatMessage({ id: 'tsvb.timeSeries.deleteSeriesTooltip', defaultMessage: 'Delete Series' }),\n          cloneTooltip: intl.formatMessage({ id: 'tsvb.timeSeries.cloneSeriesTooltip', defaultMessage: 'Clone Series' }),\n          onDelete: onDelete,\n          onClone: props.onClone,\n          onAdd: onAdd,\n          disableDelete: disableDelete,\n          disableAdd: disableAdd,\n          responsive: false\n        })\n      )\n    ),\n    body\n  );\n});\n\nTimeseriesSeries.propTypes = {\n  className: _propTypes2.default.string,\n  colorPicker: _propTypes2.default.bool,\n  disableAdd: _propTypes2.default.bool,\n  disableDelete: _propTypes2.default.bool,\n  fields: _propTypes2.default.object,\n  name: _propTypes2.default.string,\n  onAdd: _propTypes2.default.func,\n  onChange: _propTypes2.default.func,\n  onClone: _propTypes2.default.func,\n  onDelete: _propTypes2.default.func,\n  onMouseDown: _propTypes2.default.func,\n  onShouldSortItem: _propTypes2.default.func.isRequired,\n  onSortableItemMount: _propTypes2.default.func,\n  onSortableItemReadyToMove: _propTypes2.default.func,\n  onTouchStart: _propTypes2.default.func,\n  model: _propTypes2.default.object,\n  panel: _propTypes2.default.object,\n  selectedTab: _propTypes2.default.string,\n  sortData: _propTypes2.default.string,\n  style: _propTypes2.default.object,\n  switchTab: _propTypes2.default.func,\n  toggleVisible: _propTypes2.default.func,\n  visible: _propTypes2.default.bool\n};\n\nexports.default = (0, _react3.injectI18n)(TimeseriesSeries);\nmodule.exports = exports['default'];",null]}