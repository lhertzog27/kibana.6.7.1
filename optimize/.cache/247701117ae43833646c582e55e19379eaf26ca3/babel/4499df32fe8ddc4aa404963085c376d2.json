{"remainingRequest":"/home/anthony/git_workspaces/kibana/node_modules/thread-loader/dist/cjs.js??ref--9-1!/home/anthony/git_workspaces/kibana/node_modules/babel-loader/lib/index.js??ref--9-2!/home/anthony/git_workspaces/kibana/src/ui/public/timepicker/pretty_duration.js","dependencies":[{"path":"/home/anthony/git_workspaces/kibana/src/ui/public/timepicker/pretty_duration.js","mtime":1567631711762},{"path":"/home/anthony/git_workspaces/kibana/node_modules/cache-loader/dist/cjs.js","mtime":1567666236302},{"path":"/home/anthony/git_workspaces/kibana/node_modules/thread-loader/dist/cjs.js","mtime":1567666239443},{"path":"/home/anthony/git_workspaces/kibana/node_modules/babel-loader/lib/index.js","mtime":1567666227676}],"contextDependencies":[],"result":["'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }(); /*\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          * Licensed to Elasticsearch B.V. under one or more contributor\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          * license agreements. See the NOTICE file distributed with\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          * this work for additional information regarding copyright\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          * ownership. Elasticsearch B.V. licenses this file to you under\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          * the Apache License, Version 2.0 (the \"License\"); you may\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          * not use this file except in compliance with the License.\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          * You may obtain a copy of the License at\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          *\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          *    http://www.apache.org/licenses/LICENSE-2.0\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          *\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          * Unless required by applicable law or agreed to in writing,\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          * software distributed under the License is distributed on an\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          * KIND, either express or implied.  See the License for the\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          * specific language governing permissions and limitations\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          * under the License.\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          */\n\nexports.prettyDuration = prettyDuration;\n\nvar _datemath = require('@elastic/datemath');\n\nvar _datemath2 = _interopRequireDefault(_datemath);\n\nvar _moment = require('moment');\n\nvar _moment2 = _interopRequireDefault(_moment);\n\nvar _time_units = require('./time_units');\n\nvar _i18n = require('@kbn/i18n');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar TIME_NOW = 'now';\n\nfunction cantLookup(timeFrom, timeTo, dateFormat) {\n  var displayFrom = formatTimeString(timeFrom, dateFormat);\n  var displayTo = formatTimeString(timeTo, dateFormat, true);\n  return _i18n.i18n.translate('common.ui.timepicker.fullTimeRange', {\n    defaultMessage: '{displayFrom} to {displayTo}',\n    values: {\n      displayFrom: displayFrom,\n      displayTo: displayTo\n    }\n  });\n}\n\nfunction formatTimeString(timeString, dateFormat) {\n  var roundUp = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n\n  if ((0, _moment2.default)(timeString).isValid()) {\n    return (0, _moment2.default)(timeString).format(dateFormat);\n  } else {\n    if (timeString === TIME_NOW) {\n      return _i18n.i18n.translate('common.ui.timepicker.timeNow', { defaultMessage: 'now' });\n    } else {\n      var tryParse = _datemath2.default.parse(timeString, { roundUp: roundUp });\n      return _moment2.default.isMoment(tryParse) ? '~ ' + tryParse.fromNow() : timeString;\n    }\n  }\n}\n\nfunction getDateLookupKey(startDate, endDate) {\n  return startDate + ' to ' + endDate;\n}\n\nfunction prettyDuration(timeFrom, timeTo, getConfig) {\n  var quickRanges = getConfig('timepicker:quickRanges');\n  var dateFormat = getConfig('dateFormat');\n\n  var lookupByRange = {};\n  quickRanges.forEach(function (frame) {\n    lookupByRange[getDateLookupKey(frame.from, frame.to)] = frame;\n  });\n\n  // If both parts are date math, try to look up a reasonable string\n  if (timeFrom && timeTo && !_moment2.default.isMoment(timeFrom) && !_moment2.default.isMoment(timeTo)) {\n    var tryLookup = lookupByRange[getDateLookupKey(timeFrom, timeTo)];\n    if (tryLookup) {\n      return tryLookup.display;\n    } else {\n      var _timeFrom$toString$sp = timeFrom.toString().split('-'),\n          _timeFrom$toString$sp2 = _slicedToArray(_timeFrom$toString$sp, 2),\n          start = _timeFrom$toString$sp2[0],\n          end = _timeFrom$toString$sp2[1];\n\n      if (timeTo.toString() === TIME_NOW && start === TIME_NOW && end) {\n        var _end$split = end.split('/'),\n            _end$split2 = _slicedToArray(_end$split, 2),\n            amount = _end$split2[0],\n            unitId = _end$split2[1];\n\n        var text = _i18n.i18n.translate('common.ui.timepicker.timeUntilNowStr', {\n          defaultMessage: 'Last {amount}',\n          values: { amount: amount }\n        });\n\n        if (unitId) {\n          text = text + ' ' + _i18n.i18n.translate('common.ui.timepicker.roundedTo', {\n            defaultMessage: 'rounded to the {unit}',\n            values: { unit: _time_units.timeUnits[unitId] }\n          });\n        }\n        return text;\n      } else {\n        return cantLookup(timeFrom, timeTo, dateFormat);\n      }\n    }\n  }\n\n  // If at least one part is a moment, try to make pretty strings by parsing date math\n  return cantLookup(timeFrom, timeTo, dateFormat);\n}",null]}