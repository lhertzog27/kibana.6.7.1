{"remainingRequest":"/home/anthony/git_workspaces/kibana/node_modules/thread-loader/dist/cjs.js??ref--10-1!/home/anthony/git_workspaces/kibana/node_modules/ts-loader/index.js??ref--10-2!/home/anthony/git_workspaces/kibana/src/core/public/fatal_errors/fatal_errors_screen.tsx","dependencies":[{"path":"/home/anthony/git_workspaces/kibana/src/core/public/fatal_errors/fatal_errors_screen.tsx","mtime":1567631711497},{"path":"/home/anthony/git_workspaces/kibana/node_modules/cache-loader/dist/cjs.js","mtime":1567666236302},{"path":"/home/anthony/git_workspaces/kibana/node_modules/thread-loader/dist/cjs.js","mtime":1567666239443},{"path":"/home/anthony/git_workspaces/kibana/node_modules/ts-loader/index.js","mtime":1567666229769}],"contextDependencies":[],"result":["/*\n * Licensed to Elasticsearch B.V. under one or more contributor\n * license agreements. See the NOTICE file distributed with\n * this work for additional information regarding copyright\n * ownership. Elasticsearch B.V. licenses this file to you under\n * the Apache License, Version 2.0 (the \"License\"); you may\n * not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *    http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nimport * as tslib_1 from \"tslib\";\nimport { EuiButton, EuiButtonEmpty, EuiCallOut, EuiCodeBlock, EuiEmptyPrompt, EuiPage, EuiPageBody, EuiPageContent, } from '@elastic/eui';\nimport React from 'react';\nimport * as Rx from 'rxjs';\nimport { tap } from 'rxjs/operators';\nimport { FormattedMessage } from '@kbn/i18n/react';\nvar FatalErrorsScreen = /** @class */ (function (_super) {\n    tslib_1.__extends(FatalErrorsScreen, _super);\n    function FatalErrorsScreen() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.state = {\n            errors: [],\n        };\n        _this.onClickGoBack = function (e) {\n            e.preventDefault();\n            window.history.back();\n        };\n        _this.onClickClearSession = function (e) {\n            e.preventDefault();\n            localStorage.clear();\n            sessionStorage.clear();\n            window.location.hash = '';\n            window.location.reload();\n        };\n        return _this;\n    }\n    FatalErrorsScreen.prototype.componentDidMount = function () {\n        var _this = this;\n        this.subscription = Rx.merge(\n        // reload the page if hash-based navigation is attempted\n        Rx.fromEvent(window, 'hashchange').pipe(tap(function () {\n            window.location.reload();\n        })), \n        // consume error notifications and set them to the component state\n        this.props.errorInfo$.pipe(tap(function (error) {\n            _this.setState(function (state) { return (tslib_1.__assign({}, state, { errors: tslib_1.__spread(state.errors, [error]) })); });\n        }))).subscribe({\n            error: function (error) {\n                // tslint:disable-next-line no-console\n                console.error('Uncaught error in fatal error screen internals', error);\n            },\n        });\n    };\n    FatalErrorsScreen.prototype.componentWillUnmount = function () {\n        if (this.subscription) {\n            this.subscription.unsubscribe();\n            this.subscription = undefined;\n        }\n    };\n    FatalErrorsScreen.prototype.render = function () {\n        var _this = this;\n        return (React.createElement(EuiPage, { style: { minHeight: '100vh' } },\n            React.createElement(EuiPageBody, null,\n                React.createElement(EuiPageContent, { verticalPosition: \"center\", horizontalPosition: \"center\" },\n                    React.createElement(EuiEmptyPrompt, { iconType: \"alert\", iconColor: \"danger\", title: React.createElement(\"h2\", null,\n                            React.createElement(FormattedMessage, { id: \"core.fatalErrors.somethingWentWrongTitle\", defaultMessage: \"Something went wrong\" })), body: React.createElement(\"p\", null,\n                            React.createElement(FormattedMessage, { id: \"core.fatalErrors.tryRefreshingPageDescription\", defaultMessage: \"Try refreshing the page. If that doesn't work, go back to the previous page or\\n                    clear your session data.\" })), actions: [\n                            React.createElement(EuiButton, { color: \"primary\", fill: true, onClick: this.onClickClearSession, \"data-test-subj\": \"clearSession\" },\n                                React.createElement(FormattedMessage, { id: \"core.fatalErrors.clearYourSessionButtonLabel\", defaultMessage: \"Clear your session\" })),\n                            React.createElement(EuiButtonEmpty, { onClick: this.onClickGoBack, \"data-test-subj\": \"goBack\" },\n                                React.createElement(FormattedMessage, { id: \"core.fatalErrors.goBackButtonLabel\", defaultMessage: \"Go back\" })),\n                        ] }),\n                    this.state.errors.map(function (error, i) { return (React.createElement(EuiCallOut, { key: i, title: error.message, color: \"danger\", iconType: \"alert\" },\n                        React.createElement(EuiCodeBlock, { language: \"bash\", className: \"eui-textBreakAll\" }, \"Version: \" + _this.props.kibanaVersion +\n                            '\\n' +\n                            (\"Build: \" + _this.props.buildNumber) +\n                            '\\n' +\n                            (error.stack ? error.stack : '')))); })))));\n    };\n    return FatalErrorsScreen;\n}(React.Component));\nexport { FatalErrorsScreen };\n",{"version":3,"file":"/home/anthony/git_workspaces/kibana/src/core/public/fatal_errors/fatal_errors_screen.tsx","sourceRoot":"","sources":["/home/anthony/git_workspaces/kibana/src/core/public/fatal_errors/fatal_errors_screen.tsx"],"names":[],"mappings":"AAAA;;;;;;;;;;;;;;;;;GAiBG;;AAEH,OAAO,EACL,SAAS,EACT,cAAc,EACd,UAAU,EACV,YAAY,EACZ,cAAc,EACd,OAAO,EACP,WAAW,EACX,cAAc,GACf,MAAM,cAAc,CAAC;AACtB,OAAO,KAAK,MAAM,OAAO,CAAC;AAC1B,OAAO,KAAK,EAAE,MAAM,MAAM,CAAC;AAC3B,OAAO,EAAE,GAAG,EAAE,MAAM,gBAAgB,CAAC;AAErC,OAAO,EAAE,gBAAgB,EAAE,MAAM,iBAAiB,CAAC;AAcnD;IAAuC,6CAA6B;IAApE;QAAA,qEAkHC;QAjHQ,WAAK,GAAU;YACpB,MAAM,EAAE,EAAE;SACX,CAAC;QAmGM,mBAAa,GAAG,UAAC,CAAsC;YAC7D,CAAC,CAAC,cAAc,EAAE,CAAC;YACnB,MAAM,CAAC,OAAO,CAAC,IAAI,EAAE,CAAC;QACxB,CAAC,CAAC;QAEM,yBAAmB,GAAG,UAAC,CAAsC;YACnE,CAAC,CAAC,cAAc,EAAE,CAAC;YACnB,YAAY,CAAC,KAAK,EAAE,CAAC;YACrB,cAAc,CAAC,KAAK,EAAE,CAAC;YACvB,MAAM,CAAC,QAAQ,CAAC,IAAI,GAAG,EAAE,CAAC;YAC1B,MAAM,CAAC,QAAQ,CAAC,MAAM,EAAE,CAAC;QAC3B,CAAC,CAAC;;IACJ,CAAC;IA3GQ,6CAAiB,GAAxB;QAAA,iBAwBC;QAvBC,IAAI,CAAC,YAAY,GAAG,EAAE,CAAC,KAAK;QAC1B,wDAAwD;QACxD,EAAE,CAAC,SAAS,CAAC,MAAM,EAAE,YAAY,CAAC,CAAC,IAAI,CACrC,GAAG,CAAC;YACF,MAAM,CAAC,QAAQ,CAAC,MAAM,EAAE,CAAC;QAC3B,CAAC,CAAC,CACH;QAED,kEAAkE;QAClE,IAAI,CAAC,KAAK,CAAC,UAAU,CAAC,IAAI,CACxB,GAAG,CAAC,UAAA,KAAK;YACP,KAAI,CAAC,QAAQ,CAAC,UAAA,KAAK,IAAI,OAAA,sBAClB,KAAK,IACR,MAAM,mBAAM,KAAK,CAAC,MAAM,GAAE,KAAK,MAC/B,EAHqB,CAGrB,CAAC,CAAC;QACN,CAAC,CAAC,CACH,CACF,CAAC,SAAS,CAAC;YACV,KAAK,YAAC,KAAK;gBACT,sCAAsC;gBACtC,OAAO,CAAC,KAAK,CAAC,gDAAgD,EAAE,KAAK,CAAC,CAAC;YACzE,CAAC;SACF,CAAC,CAAC;IACL,CAAC;IAEM,gDAAoB,GAA3B;QACE,IAAI,IAAI,CAAC,YAAY,EAAE;YACrB,IAAI,CAAC,YAAY,CAAC,WAAW,EAAE,CAAC;YAChC,IAAI,CAAC,YAAY,GAAG,SAAS,CAAC;SAC/B;IACH,CAAC;IAEM,kCAAM,GAAb;QAAA,iBA4DC;QA3DC,OAAO,CACL,oBAAC,OAAO,IAAC,KAAK,EAAE,EAAE,SAAS,EAAE,OAAO,EAAE;YACpC,oBAAC,WAAW;gBACV,oBAAC,cAAc,IAAC,gBAAgB,EAAC,QAAQ,EAAC,kBAAkB,EAAC,QAAQ;oBACnE,oBAAC,cAAc,IACb,QAAQ,EAAC,OAAO,EAChB,SAAS,EAAC,QAAQ,EAClB,KAAK,EACH;4BACE,oBAAC,gBAAgB,IACf,EAAE,EAAC,0CAA0C,EAC7C,cAAc,EAAC,sBAAsB,GACrC,CACC,EAEP,IAAI,EACF;4BACE,oBAAC,gBAAgB,IACf,EAAE,EAAC,+CAA+C,EAClD,cAAc,EAAC,8HACU,GACzB,CACA,EAEN,OAAO,EAAE;4BACP,oBAAC,SAAS,IACR,KAAK,EAAC,SAAS,EACf,IAAI,QACJ,OAAO,EAAE,IAAI,CAAC,mBAAmB,oBAClB,cAAc;gCAE7B,oBAAC,gBAAgB,IACf,EAAE,EAAC,8CAA8C,EACjD,cAAc,EAAC,oBAAoB,GACnC,CACQ;4BACZ,oBAAC,cAAc,IAAC,OAAO,EAAE,IAAI,CAAC,aAAa,oBAAiB,QAAQ;gCAClE,oBAAC,gBAAgB,IACf,EAAE,EAAC,oCAAoC,EACvC,cAAc,EAAC,SAAS,GACxB,CACa;yBAClB,GACD;oBACD,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,GAAG,CAAC,UAAC,KAAK,EAAE,CAAC,IAAK,OAAA,CACnC,oBAAC,UAAU,IAAC,GAAG,EAAE,CAAC,EAAE,KAAK,EAAE,KAAK,CAAC,OAAO,EAAE,KAAK,EAAC,QAAQ,EAAC,QAAQ,EAAC,OAAO;wBACvE,oBAAC,YAAY,IAAC,QAAQ,EAAC,MAAM,EAAC,SAAS,EAAC,kBAAkB,IACvD,cAAY,KAAI,CAAC,KAAK,CAAC,aAAe;4BACrC,IAAI;6BACJ,YAAU,KAAI,CAAC,KAAK,CAAC,WAAa,CAAA;4BAClC,IAAI;4BACJ,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC,CAAC,EAAE,CAAC,CACrB,CACJ,CACd,EAVoC,CAUpC,CAAC,CACa,CACL,CACN,CACX,CAAC;IACJ,CAAC;IAcH,wBAAC;AAAD,CAAC,AAlHD,CAAuC,KAAK,CAAC,SAAS,GAkHrD","sourcesContent":["/*\n * Licensed to Elasticsearch B.V. under one or more contributor\n * license agreements. See the NOTICE file distributed with\n * this work for additional information regarding copyright\n * ownership. Elasticsearch B.V. licenses this file to you under\n * the Apache License, Version 2.0 (the \"License\"); you may\n * not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *    http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\n\nimport {\n  EuiButton,\n  EuiButtonEmpty,\n  EuiCallOut,\n  EuiCodeBlock,\n  EuiEmptyPrompt,\n  EuiPage,\n  EuiPageBody,\n  EuiPageContent,\n} from '@elastic/eui';\nimport React from 'react';\nimport * as Rx from 'rxjs';\nimport { tap } from 'rxjs/operators';\n\nimport { FormattedMessage } from '@kbn/i18n/react';\n\nimport { ErrorInfo } from './get_error_info';\n\ninterface Props {\n  kibanaVersion: string;\n  buildNumber: number;\n  errorInfo$: Rx.Observable<ErrorInfo>;\n}\n\ninterface State {\n  errors: ErrorInfo[];\n}\n\nexport class FatalErrorsScreen extends React.Component<Props, State> {\n  public state: State = {\n    errors: [],\n  };\n\n  private subscription?: Rx.Subscription;\n\n  public componentDidMount() {\n    this.subscription = Rx.merge(\n      // reload the page if hash-based navigation is attempted\n      Rx.fromEvent(window, 'hashchange').pipe(\n        tap(() => {\n          window.location.reload();\n        })\n      ),\n\n      // consume error notifications and set them to the component state\n      this.props.errorInfo$.pipe(\n        tap(error => {\n          this.setState(state => ({\n            ...state,\n            errors: [...state.errors, error],\n          }));\n        })\n      )\n    ).subscribe({\n      error(error) {\n        // tslint:disable-next-line no-console\n        console.error('Uncaught error in fatal error screen internals', error);\n      },\n    });\n  }\n\n  public componentWillUnmount() {\n    if (this.subscription) {\n      this.subscription.unsubscribe();\n      this.subscription = undefined;\n    }\n  }\n\n  public render() {\n    return (\n      <EuiPage style={{ minHeight: '100vh' }}>\n        <EuiPageBody>\n          <EuiPageContent verticalPosition=\"center\" horizontalPosition=\"center\">\n            <EuiEmptyPrompt\n              iconType=\"alert\"\n              iconColor=\"danger\"\n              title={\n                <h2>\n                  <FormattedMessage\n                    id=\"core.fatalErrors.somethingWentWrongTitle\"\n                    defaultMessage=\"Something went wrong\"\n                  />\n                </h2>\n              }\n              body={\n                <p>\n                  <FormattedMessage\n                    id=\"core.fatalErrors.tryRefreshingPageDescription\"\n                    defaultMessage=\"Try refreshing the page. If that doesn't work, go back to the previous page or\n                    clear your session data.\"\n                  />\n                </p>\n              }\n              actions={[\n                <EuiButton\n                  color=\"primary\"\n                  fill\n                  onClick={this.onClickClearSession}\n                  data-test-subj=\"clearSession\"\n                >\n                  <FormattedMessage\n                    id=\"core.fatalErrors.clearYourSessionButtonLabel\"\n                    defaultMessage=\"Clear your session\"\n                  />\n                </EuiButton>,\n                <EuiButtonEmpty onClick={this.onClickGoBack} data-test-subj=\"goBack\">\n                  <FormattedMessage\n                    id=\"core.fatalErrors.goBackButtonLabel\"\n                    defaultMessage=\"Go back\"\n                  />\n                </EuiButtonEmpty>,\n              ]}\n            />\n            {this.state.errors.map((error, i) => (\n              <EuiCallOut key={i} title={error.message} color=\"danger\" iconType=\"alert\">\n                <EuiCodeBlock language=\"bash\" className=\"eui-textBreakAll\">\n                  {`Version: ${this.props.kibanaVersion}` +\n                    '\\n' +\n                    `Build: ${this.props.buildNumber}` +\n                    '\\n' +\n                    (error.stack ? error.stack : '')}\n                </EuiCodeBlock>\n              </EuiCallOut>\n            ))}\n          </EuiPageContent>\n        </EuiPageBody>\n      </EuiPage>\n    );\n  }\n\n  private onClickGoBack = (e: React.MouseEvent<HTMLButtonElement>) => {\n    e.preventDefault();\n    window.history.back();\n  };\n\n  private onClickClearSession = (e: React.MouseEvent<HTMLButtonElement>) => {\n    e.preventDefault();\n    localStorage.clear();\n    sessionStorage.clear();\n    window.location.hash = '';\n    window.location.reload();\n  };\n}\n"]}]}