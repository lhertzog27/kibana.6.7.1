{"remainingRequest":"/home/anthony/git_workspaces/kibana/node_modules/thread-loader/dist/cjs.js??ref--9-1!/home/anthony/git_workspaces/kibana/node_modules/babel-loader/lib/index.js??ref--9-2!/home/anthony/git_workspaces/kibana/src/ui/public/registry/_registry.js","dependencies":[{"path":"/home/anthony/git_workspaces/kibana/src/ui/public/registry/_registry.js","mtime":1567631711750},{"path":"/home/anthony/git_workspaces/kibana/node_modules/cache-loader/dist/cjs.js","mtime":1567666236302},{"path":"/home/anthony/git_workspaces/kibana/node_modules/thread-loader/dist/cjs.js","mtime":1567666239443},{"path":"/home/anthony/git_workspaces/kibana/node_modules/babel-loader/lib/index.js","mtime":1567666227676}],"contextDependencies":[],"result":["'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.uiRegistry = uiRegistry;\n\nvar _lodash = require('lodash');\n\nvar _lodash2 = _interopRequireDefault(_lodash);\n\nvar _indexed_array = require('../indexed_array');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/*\n * Licensed to Elasticsearch B.V. under one or more contributor\n * license agreements. See the NOTICE file distributed with\n * this work for additional information regarding copyright\n * ownership. Elasticsearch B.V. licenses this file to you under\n * the Apache License, Version 2.0 (the \"License\"); you may\n * not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *    http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\n\nvar notPropsOptNames = _indexed_array.IndexedArray.OPT_NAMES.concat('constructor', 'invokeProviders');\n\n/**\n * Create a registry, which is just a Private module provider.\n *\n * The registry allows modifying the values it will provide\n * using the #register method.\n *\n * To access these modules, pass the registry to the Private\n * module loader.\n *\n * # Examples\n *\n * + register a module\n * ```js\n * let registry = require('ui/registry/vis_types');\n * registry.add(function InjectablePrivateModule($http, Promise) {\n *   ...\n * })\n * ```\n *\n * + get all registered modules\n * ```js\n * let visTypes = Private(RegistryVisTypesProvider);\n * ```\n *\n *\n * @param  {object} [spec] - an object describing the properties of\n *                         the registry to create. Any property specified\n *                         that is not listed below will be mixed into the\n *                         final IndexedArray object.\n *\n * # init\n * @param {Function} [spec.constructor] - an injectable function that is called when\n *                                      the registry is first instantiated by the app.\n * @param {boolean} [spec.filter] - function that will be used to filter items before\n *                                registering them. Function will called on each item and\n *                                should return true to keep the item (register it) or\n *                                skip it (don't register it)\n *\n * # IndexedArray params\n * @param {array[String]} [spec.index] - passed to the IndexedArray constructor\n * @param {array[String]} [spec.group] - passed to the IndexedArray constructor\n * @param {array[String]} [spec.order] - passed to the IndexedArray constructor\n * @param {array[String]} [spec.initialSet] - passed to the IndexedArray constructor\n * @param {array[String]} [spec.immutable] - passed to the IndexedArray constructor\n *\n * @return {[type]}      [description]\n */\nfunction uiRegistry(spec) {\n  spec = spec || {};\n\n  var constructor = _lodash2.default.has(spec, 'constructor') && spec.constructor;\n  var filter = _lodash2.default.has(spec, 'filter') && spec.filter;\n  var invokeProviders = _lodash2.default.has(spec, 'invokeProviders') && spec.invokeProviders;\n  var iaOpts = _lodash2.default.defaults(_lodash2.default.pick(spec, _indexed_array.IndexedArray.OPT_NAMES), { index: ['name'] });\n  var props = _lodash2.default.omit(spec, notPropsOptNames);\n  var providers = [];\n\n  /**\n   * This is the Private module that will be instantiated by\n   *\n   * @tag:PrivateModule\n   * @return {IndexedArray} - an indexed array containing the values\n   *                          that were registered, the registry spec\n   *                          defines how things will be indexed.\n   */\n  var registry = function registry(Private, $injector) {\n    // call the registered providers to get their values\n    iaOpts.initialSet = invokeProviders ? $injector.invoke(invokeProviders, undefined, { providers: providers }) : providers.map(Private);\n\n    if (filter && _lodash2.default.isFunction(filter)) {\n      iaOpts.initialSet = iaOpts.initialSet.filter(function (item) {\n        return filter(item);\n      });\n    }\n\n    // index all of the modules\n    var modules = new _indexed_array.IndexedArray(iaOpts);\n\n    // mixin other props\n    _lodash2.default.assign(modules, props);\n\n    // construct\n    if (constructor) {\n      modules = $injector.invoke(constructor, modules) || modules;\n    }\n\n    return modules;\n  };\n\n  registry.displayName = '[registry ' + props.name + ']';\n\n  registry.register = function (privateModule) {\n    providers.push(privateModule);\n    return registry;\n  };\n\n  return registry;\n}",null]}