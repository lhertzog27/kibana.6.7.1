{"remainingRequest":"/home/anthony/git_workspaces/kibana/node_modules/thread-loader/dist/cjs.js??ref--9-1!/home/anthony/git_workspaces/kibana/node_modules/babel-loader/lib/index.js??ref--9-2!/home/anthony/git_workspaces/kibana/x-pack/plugins/rollup/public/crud_app/sections/job_create/steps/step_histogram.js","dependencies":[{"path":"/home/anthony/git_workspaces/kibana/x-pack/plugins/rollup/public/crud_app/sections/job_create/steps/step_histogram.js","mtime":1567631712288},{"path":"/home/anthony/git_workspaces/kibana/node_modules/cache-loader/dist/cjs.js","mtime":1567666236302},{"path":"/home/anthony/git_workspaces/kibana/node_modules/thread-loader/dist/cjs.js","mtime":1567666239443},{"path":"/home/anthony/git_workspaces/kibana/node_modules/babel-loader/lib/index.js","mtime":1567666227676}],"contextDependencies":[],"result":["'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.StepHistogram = exports.StepHistogramUi = undefined;\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _propTypes = require('prop-types');\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _react3 = require('@kbn/i18n/react');\n\nvar _eui = require('@elastic/eui');\n\nvar _services = require('../../../services');\n\nvar _components = require('../../components');\n\nvar _components2 = require('./components');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } /*\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * Copyright Elasticsearch B.V. and/or licensed to Elasticsearch B.V. under one\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * or more contributor license agreements. Licensed under the Elastic License;\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * you may not use this file except in compliance with the Elastic License.\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                */\n\nvar StepHistogramUi = exports.StepHistogramUi = function (_Component) {\n  _inherits(StepHistogramUi, _Component);\n\n  function StepHistogramUi() {\n    var _ref;\n\n    var _temp, _this, _ret;\n\n    _classCallCheck(this, StepHistogramUi);\n\n    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    return _ret = (_temp = (_this = _possibleConstructorReturn(this, (_ref = StepHistogramUi.__proto__ || Object.getPrototypeOf(StepHistogramUi)).call.apply(_ref, [this].concat(args))), _this), _this.onSelectField = function (field) {\n      var _this$props = _this.props,\n          histogram = _this$props.fields.histogram,\n          onFieldsChange = _this$props.onFieldsChange;\n\n\n      onFieldsChange({ histogram: histogram.concat(field) });\n    }, _this.onRemoveField = function (field) {\n      var _this$props2 = _this.props,\n          histogram = _this$props2.fields.histogram,\n          onFieldsChange = _this$props2.onFieldsChange;\n\n\n      onFieldsChange({ histogram: histogram.filter(function (histogramField) {\n          return histogramField !== field;\n        }) });\n    }, _this.renderErrors = function () {\n      var _this$props3 = _this.props,\n          areStepErrorsVisible = _this$props3.areStepErrorsVisible,\n          hasErrors = _this$props3.hasErrors;\n\n\n      if (!areStepErrorsVisible || !hasErrors) {\n        return null;\n      }\n\n      return _react2.default.createElement(_components2.StepError, null);\n    }, _temp), _possibleConstructorReturn(_this, _ret);\n  }\n\n  _createClass(StepHistogramUi, [{\n    key: 'render',\n    value: function render() {\n      var _props = this.props,\n          fields = _props.fields,\n          histogramFields = _props.histogramFields;\n      var histogram = fields.histogram;\n\n\n      var columns = [{\n        field: 'name',\n        name: 'Field',\n        sortable: true\n      }];\n\n      return _react2.default.createElement(\n        _react.Fragment,\n        null,\n        _react2.default.createElement(\n          _eui.EuiFlexGroup,\n          { justifyContent: 'spaceBetween' },\n          _react2.default.createElement(\n            _eui.EuiFlexItem,\n            { grow: false },\n            _react2.default.createElement(\n              _eui.EuiTitle,\n              null,\n              _react2.default.createElement(\n                'h3',\n                null,\n                _react2.default.createElement(_react3.FormattedMessage, {\n                  id: 'xpack.rollupJobs.create.stepHistogramTitle',\n                  defaultMessage: 'Histogram (optional)'\n                })\n              )\n            ),\n            _react2.default.createElement(_eui.EuiSpacer, { size: 's' }),\n            _react2.default.createElement(\n              _eui.EuiText,\n              null,\n              _react2.default.createElement(\n                'p',\n                null,\n                _react2.default.createElement(_react3.FormattedMessage, {\n                  id: 'xpack.rollupJobs.create.stepHistogram.histogramDescription',\n                  defaultMessage: 'Select the fields you want to bucket using numeric intervals.'\n                })\n              )\n            )\n          ),\n          _react2.default.createElement(\n            _eui.EuiFlexItem,\n            { grow: false, className: 'rollupJobWizardStepActions' },\n            _react2.default.createElement(\n              _eui.EuiButtonEmpty,\n              {\n                size: 's',\n                flush: 'right',\n                href: _services.histogramDetailsUrl,\n                target: '_blank',\n                iconType: 'help'\n              },\n              _react2.default.createElement(_react3.FormattedMessage, {\n                id: 'xpack.rollupJobs.create.stepHistogram.readDocsButtonLabel',\n                defaultMessage: 'Histogram docs'\n              })\n            )\n          )\n        ),\n        _react2.default.createElement(_eui.EuiSpacer, null),\n        _react2.default.createElement(_components.FieldList, {\n          columns: columns,\n          fields: histogram,\n          onRemoveField: this.onRemoveField,\n          emptyMessage: _react2.default.createElement(\n            'p',\n            null,\n            'No histogram fields added'\n          ),\n          addButton: _react2.default.createElement(_components2.FieldChooser, {\n            buttonLabel: _react2.default.createElement(_react3.FormattedMessage, {\n              id: 'xpack.rollupJobs.create.stepHistogram.fieldsChooserLabel',\n              defaultMessage: 'Add histogram fields'\n            }),\n            columns: columns,\n            fields: histogramFields,\n            selectedFields: histogram,\n            onSelectField: this.onSelectField\n          })\n        }),\n        this.renderInterval(),\n        this.renderErrors()\n      );\n    }\n  }, {\n    key: 'renderInterval',\n    value: function renderInterval() {\n      var _props2 = this.props,\n          fields = _props2.fields,\n          onFieldsChange = _props2.onFieldsChange,\n          areStepErrorsVisible = _props2.areStepErrorsVisible,\n          fieldErrors = _props2.fieldErrors;\n      var histogram = fields.histogram,\n          histogramInterval = fields.histogramInterval;\n      var errorHistogramInterval = fieldErrors.histogramInterval;\n\n\n      if (!histogram.length) {\n        return null;\n      }\n\n      return _react2.default.createElement(\n        _react.Fragment,\n        null,\n        _react2.default.createElement(_eui.EuiSpacer, { size: 'xl' }),\n        _react2.default.createElement(\n          _eui.EuiDescribedFormGroup,\n          {\n            title: _react2.default.createElement(\n              _eui.EuiTitle,\n              { size: 's' },\n              _react2.default.createElement(\n                'h4',\n                null,\n                _react2.default.createElement(_react3.FormattedMessage, {\n                  id: 'xpack.rollupJobs.create.stepHistogram.sectionHistogramIntervalTitle',\n                  defaultMessage: 'Histogram interval'\n                })\n              )\n            ),\n            description: _react2.default.createElement(_react3.FormattedMessage, {\n              id: 'xpack.rollupJobs.create.stepHistogram.sectionHistogramIntervalDescription',\n              defaultMessage: 'This is the interval of histogram buckets to be generated when rolling up, e.g. 5 will create buckets that are five units wide (0-5, 5-10, etc). Note that only one interval can be specified in the histogram group, meaning that all fields being grouped via the histogram must share the same interval.'\n            }),\n            fullWidth: true\n          },\n          _react2.default.createElement(\n            _eui.EuiFormRow,\n            {\n              label: _react2.default.createElement(_react3.FormattedMessage, {\n                id: 'xpack.rollupJobs.create.stepHistogram.fieldHistogramIntervalLabel',\n                defaultMessage: 'Interval'\n              }),\n              error: errorHistogramInterval,\n              isInvalid: Boolean(areStepErrorsVisible && errorHistogramInterval),\n              fullWidth: true\n            },\n            _react2.default.createElement(_eui.EuiFieldNumber, {\n              value: !histogramInterval && histogramInterval !== 0 ? '' : Number(histogramInterval),\n              onChange: function onChange(e) {\n                return onFieldsChange({ histogramInterval: e.target.value });\n              },\n              isInvalid: Boolean(areStepErrorsVisible && errorHistogramInterval),\n              fullWidth: true\n            })\n          )\n        )\n      );\n    }\n  }]);\n\n  return StepHistogramUi;\n}(_react.Component);\n\nStepHistogramUi.propTypes = {\n  fields: _propTypes2.default.object.isRequired,\n  onFieldsChange: _propTypes2.default.func.isRequired,\n  fieldErrors: _propTypes2.default.object.isRequired,\n  hasErrors: _propTypes2.default.bool.isRequired,\n  areStepErrorsVisible: _propTypes2.default.bool.isRequired,\n  histogramFields: _propTypes2.default.array.isRequired\n};\nvar StepHistogram = exports.StepHistogram = (0, _react3.injectI18n)(StepHistogramUi);",null]}