{"remainingRequest":"/home/anthony/git_workspaces/kibana/node_modules/thread-loader/dist/cjs.js??ref--9-1!/home/anthony/git_workspaces/kibana/node_modules/babel-loader/lib/index.js??ref--9-2!/home/anthony/git_workspaces/kibana/x-pack/plugins/maps/public/angular/services/saved_gis_map.js","dependencies":[{"path":"/home/anthony/git_workspaces/kibana/x-pack/plugins/maps/public/angular/services/saved_gis_map.js","mtime":1567631712013},{"path":"/home/anthony/git_workspaces/kibana/node_modules/cache-loader/dist/cjs.js","mtime":1567666236302},{"path":"/home/anthony/git_workspaces/kibana/node_modules/thread-loader/dist/cjs.js","mtime":1567666239443},{"path":"/home/anthony/git_workspaces/kibana/node_modules/babel-loader/lib/index.js","mtime":1567666227676}],"contextDependencies":[],"result":["'use strict';\n\nvar _lodash = require('lodash');\n\nvar _lodash2 = _interopRequireDefault(_lodash);\n\nvar _modules = require('ui/modules');\n\nvar _legacy_class = require('ui/utils/legacy_class');\n\nvar _courier = require('ui/courier');\n\nvar _map_selectors = require('../../selectors/map_selectors');\n\nvar _elasticsearch_geo_utils = require('../../elasticsearch_geo_utils');\n\nvar _util = require('../../store/util');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar _module = _modules.uiModules.get('app/maps'); /*\n                                                   * Copyright Elasticsearch B.V. and/or licensed to Elasticsearch B.V. under one\n                                                   * or more contributor license agreements. Licensed under the Elastic License;\n                                                   * you may not use this file except in compliance with the Elastic License.\n                                                   */\n\n_module.factory('SavedGisMap', function (Private) {\n  var SavedObject = Private(_courier.SavedObjectProvider);\n  (0, _legacy_class.createLegacyClass)(SavedGisMap).inherits(SavedObject);\n  function SavedGisMap(id) {\n    SavedGisMap.Super.call(this, {\n      type: SavedGisMap.type,\n      mapping: SavedGisMap.mapping,\n      searchSource: SavedGisMap.searchsource,\n\n      // if this is null/undefined then the SavedObject will be assigned the defaults\n      id: id,\n\n      // default values that will get assigned if the doc is new\n      defaults: {\n        title: 'New Map',\n        description: ''\n      }\n    });\n\n    this.showInRecentlyAccessed = true;\n  }\n\n  SavedGisMap.type = 'map';\n\n  // Mappings are used to place object properties into saved object _source\n  SavedGisMap.mapping = {\n    title: 'text',\n    description: 'text',\n    mapStateJSON: 'text',\n    layerListJSON: 'text',\n    uiStateJSON: 'text',\n    bounds: {\n      type: 'object'\n    }\n  };\n\n  SavedGisMap.fieldOrder = ['title', 'description'];\n\n  SavedGisMap.searchsource = false;\n\n  SavedGisMap.prototype.getFullPath = function () {\n    return '/app/maps#map/' + this.id;\n  };\n\n  SavedGisMap.prototype.syncWithStore = function (state) {\n    var layerList = (0, _map_selectors.getLayerListRaw)(state);\n    var layerListConfigOnly = (0, _util.copyPersistentState)(layerList);\n    this.layerListJSON = JSON.stringify(layerListConfigOnly);\n\n    this.mapStateJSON = JSON.stringify({\n      zoom: (0, _map_selectors.getMapZoom)(state),\n      center: (0, _map_selectors.getMapCenter)(state),\n      timeFilters: (0, _map_selectors.getTimeFilters)(state),\n      refreshConfig: (0, _map_selectors.getRefreshConfig)(state),\n      query: _lodash2.default.omit((0, _map_selectors.getQuery)(state), 'queryLastTriggeredAt')\n    });\n\n    this.uiStateJSON = JSON.stringify({});\n\n    this.bounds = (0, _elasticsearch_geo_utils.convertMapExtentToPolygon)((0, _map_selectors.getMapExtent)(state));\n  };\n\n  return SavedGisMap;\n});",null]}