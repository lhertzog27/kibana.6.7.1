{"remainingRequest":"/home/anthony/git_workspaces/kibana/node_modules/thread-loader/dist/cjs.js??ref--9-1!/home/anthony/git_workspaces/kibana/node_modules/babel-loader/lib/index.js??ref--9-2!/home/anthony/git_workspaces/kibana/x-pack/plugins/canvas/public/expression_types/datasources/esdocs.js","dependencies":[{"path":"/home/anthony/git_workspaces/kibana/x-pack/plugins/canvas/public/expression_types/datasources/esdocs.js","mtime":1567631711931},{"path":"/home/anthony/git_workspaces/kibana/node_modules/cache-loader/dist/cjs.js","mtime":1567666236302},{"path":"/home/anthony/git_workspaces/kibana/node_modules/thread-loader/dist/cjs.js","mtime":1567666239443},{"path":"/home/anthony/git_workspaces/kibana/node_modules/babel-loader/lib/index.js","mtime":1567666227676}],"contextDependencies":[],"result":["'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.esdocs = undefined;\n\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; /*\n                                                                                                                                                                                                                                                                   * Copyright Elasticsearch B.V. and/or licensed to Elasticsearch B.V. under one\n                                                                                                                                                                                                                                                                   * or more contributor license agreements. Licensed under the Elastic License;\n                                                                                                                                                                                                                                                                   * you may not use this file except in compliance with the Elastic License.\n                                                                                                                                                                                                                                                                   */\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _propTypes = require('prop-types');\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _eui = require('@elastic/eui');\n\nvar _arg_helpers = require('../../lib/arg_helpers');\n\nvar _es_fields_select = require('../../components/es_fields_select');\n\nvar _es_field_select = require('../../components/es_field_select');\n\nvar _es_index_select = require('../../components/es_index_select');\n\nvar _template_from_react_component = require('../../lib/template_from_react_component');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar EsdocsDatasource = function EsdocsDatasource(_ref) {\n  var args = _ref.args,\n      updateArgs = _ref.updateArgs;\n\n  var setArg = function setArg(name, value) {\n    updateArgs && updateArgs(_extends({}, args, (0, _arg_helpers.setSimpleArg)(name, value)));\n  };\n\n  // TODO: This is a terrible way of doing defaults. We need to find a way to read the defaults for the function\n  // and set them for the data source UI.\n  var getArgName = function getArgName() {\n    if ((0, _arg_helpers.getSimpleArg)('_', args)[0]) {\n      return '_';\n    }\n    if ((0, _arg_helpers.getSimpleArg)('q', args)[0]) {\n      return 'q';\n    }\n    return 'query';\n  };\n\n  var getIndex = function getIndex() {\n    return (0, _arg_helpers.getSimpleArg)('index', args)[0] || '';\n  };\n\n  var getQuery = function getQuery() {\n    return (0, _arg_helpers.getSimpleArg)(getArgName(), args)[0] || '';\n  };\n\n  var getFields = function getFields() {\n    var commas = (0, _arg_helpers.getSimpleArg)('fields', args)[0] || '';\n    if (commas.length === 0) {\n      return [];\n    }\n    return commas.split(',').map(function (str) {\n      return str.trim();\n    });\n  };\n\n  var getSortBy = function getSortBy() {\n    var commas = (0, _arg_helpers.getSimpleArg)('sort', args)[0] || ', DESC';\n    return commas.split(',').map(function (str) {\n      return str.trim();\n    });\n  };\n\n  var fields = getFields();\n\n  var _getSortBy = getSortBy(),\n      _getSortBy2 = _slicedToArray(_getSortBy, 2),\n      sortField = _getSortBy2[0],\n      sortOrder = _getSortBy2[1];\n\n  var index = getIndex().toLowerCase();\n\n  var sortOptions = [{ value: 'asc', text: 'Ascending' }, { value: 'desc', text: 'Descending' }];\n\n  return _react2.default.createElement(\n    'div',\n    null,\n    _react2.default.createElement(\n      _eui.EuiCallOut,\n      { size: 's', title: 'Be careful', color: 'warning' },\n      _react2.default.createElement(\n        'p',\n        null,\n        'The Elasticsearch Docs datasource is used to pull documents directly from Elasticsearch without the use of aggregations. It is best used with low volume datasets and in situations where you need to view raw documents or plot exact, non-aggregated values on a chart.'\n      )\n    ),\n    _react2.default.createElement(_eui.EuiSpacer, { size: 'm' }),\n    _react2.default.createElement(\n      _eui.EuiFormRow,\n      { label: 'Index', helpText: 'Enter an index name or select an index pattern' },\n      _react2.default.createElement(_es_index_select.ESIndexSelect, { value: index, onChange: function onChange(index) {\n          return setArg('index', index);\n        } })\n    ),\n    _react2.default.createElement(\n      _eui.EuiFormRow,\n      { label: 'Query', helpText: 'Lucene query string syntax', compressed: true },\n      _react2.default.createElement(_eui.EuiFieldText, { value: getQuery(), onChange: function onChange(e) {\n          return setArg(getArgName(), e.target.value);\n        } })\n    ),\n    _react2.default.createElement(\n      _eui.EuiFormRow,\n      { label: 'Sort Field', helpText: 'Document sort field' },\n      _react2.default.createElement(_es_field_select.ESFieldSelect, {\n        index: index,\n        value: sortField,\n        onChange: function onChange(field) {\n          return setArg('sort', [field, sortOrder].join(', '));\n        }\n      })\n    ),\n    _react2.default.createElement(\n      _eui.EuiFormRow,\n      { label: 'Sort Order', helpText: 'Document sort order', compressed: true },\n      _react2.default.createElement(_eui.EuiSelect, {\n        value: sortOrder.toLowerCase(),\n        onChange: function onChange(e) {\n          return setArg('sort', [sortField, e.target.value].join(', '));\n        },\n        options: sortOptions\n      })\n    ),\n    _react2.default.createElement(\n      _eui.EuiFormRow,\n      {\n        label: 'Fields',\n        helpText: fields.length <= 10 ? 'The fields to extract. Kibana scripted fields are not currently available' : 'This datasource performs best with 10 or fewer fields'\n      },\n      _react2.default.createElement(_es_fields_select.ESFieldsSelect, {\n        index: index,\n        onChange: function onChange(fields) {\n          return setArg('fields', fields.join(', '));\n        },\n        selected: fields\n      })\n    )\n  );\n};\n\nEsdocsDatasource.propTypes = {\n  args: _propTypes2.default.object.isRequired,\n  updateArgs: _propTypes2.default.func\n};\n\nvar esdocs = exports.esdocs = function esdocs() {\n  return {\n    name: 'esdocs',\n    displayName: 'Elasticsearch raw documents',\n    help: 'Pull back raw documents from elasticsearch',\n    image: 'logoElasticsearch',\n    template: (0, _template_from_react_component.templateFromReactComponent)(EsdocsDatasource)\n  };\n};",null]}