{"remainingRequest":"/home/anthony/git_workspaces/kibana/node_modules/thread-loader/dist/cjs.js??ref--9-1!/home/anthony/git_workspaces/kibana/node_modules/babel-loader/lib/index.js??ref--9-2!/home/anthony/git_workspaces/kibana/x-pack/plugins/ml/public/jobs/components/custom_url_editor/editor.js","dependencies":[{"path":"/home/anthony/git_workspaces/kibana/x-pack/plugins/ml/public/jobs/components/custom_url_editor/editor.js","mtime":1567631712047},{"path":"/home/anthony/git_workspaces/kibana/node_modules/cache-loader/dist/cjs.js","mtime":1567666236302},{"path":"/home/anthony/git_workspaces/kibana/node_modules/thread-loader/dist/cjs.js","mtime":1567666239443},{"path":"/home/anthony/git_workspaces/kibana/node_modules/babel-loader/lib/index.js","mtime":1567666227676}],"contextDependencies":[],"result":["'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.CustomUrlEditor = undefined;\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _class, _temp; /*\n                    * Copyright Elasticsearch B.V. and/or licensed to Elasticsearch B.V. under one\n                    * or more contributor license agreements. Licensed under the Elastic License;\n                    * you may not use this file except in compliance with the Elastic License.\n                    */\n\n/*\n * React component for the form for editing a custom URL.\n */\n\nvar _propTypes = require('prop-types');\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _eui = require('@elastic/eui');\n\nvar _utils = require('../../../jobs/components/custom_url_editor/utils');\n\nvar _custom_url_utils = require('../../../util/custom_url_utils');\n\nvar _i18n = require('@kbn/i18n');\n\nvar _react3 = require('@kbn/i18n/react');\n\nvar _constants = require('./constants');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nfunction getLinkToOptions() {\n  return [{\n    id: _constants.URL_TYPE.KIBANA_DASHBOARD,\n    label: _i18n.i18n.translate('xpack.ml.customUrlEditor.kibanaDashboardLabel', {\n      defaultMessage: 'Kibana dashboard'\n    })\n  }, {\n    id: _constants.URL_TYPE.KIBANA_DISCOVER,\n    label: _i18n.i18n.translate('xpack.ml.customUrlEditor.discoverLabel', {\n      defaultMessage: 'Discover'\n    })\n  }, {\n    id: _constants.URL_TYPE.OTHER,\n    label: _i18n.i18n.translate('xpack.ml.customUrlEditor.otherLabel', {\n      defaultMessage: 'Other'\n    })\n  }];\n}\n\nvar CustomUrlEditor = exports.CustomUrlEditor = (0, _react3.injectI18n)((_temp = _class = function (_Component) {\n  _inherits(CustomUrlEditor, _Component);\n\n  function CustomUrlEditor(props) {\n    _classCallCheck(this, CustomUrlEditor);\n\n    var _this = _possibleConstructorReturn(this, (CustomUrlEditor.__proto__ || Object.getPrototypeOf(CustomUrlEditor)).call(this, props));\n\n    _this.onLabelChange = function (e) {\n      var _this$props = _this.props,\n          customUrl = _this$props.customUrl,\n          setEditCustomUrl = _this$props.setEditCustomUrl;\n\n      setEditCustomUrl(_extends({}, customUrl, {\n        label: e.target.value\n      }));\n    };\n\n    _this.onTypeChange = function (linkType) {\n      var _this$props2 = _this.props,\n          customUrl = _this$props2.customUrl,\n          setEditCustomUrl = _this$props2.setEditCustomUrl;\n\n      setEditCustomUrl(_extends({}, customUrl, {\n        type: linkType\n      }));\n    };\n\n    _this.onDashboardChange = function (e) {\n      var _this$props3 = _this.props,\n          customUrl = _this$props3.customUrl,\n          setEditCustomUrl = _this$props3.setEditCustomUrl;\n\n      var kibanaSettings = customUrl.kibanaSettings;\n      setEditCustomUrl(_extends({}, customUrl, {\n        kibanaSettings: _extends({}, kibanaSettings, {\n          dashboardId: e.target.value\n        })\n      }));\n    };\n\n    _this.onDiscoverIndexPatternChange = function (e) {\n      var _this$props4 = _this.props,\n          customUrl = _this$props4.customUrl,\n          setEditCustomUrl = _this$props4.setEditCustomUrl;\n\n      var kibanaSettings = customUrl.kibanaSettings;\n      setEditCustomUrl(_extends({}, customUrl, {\n        kibanaSettings: _extends({}, kibanaSettings, {\n          discoverIndexPatternId: e.target.value\n        })\n      }));\n    };\n\n    _this.onQueryEntitiesChange = function (selectedOptions) {\n      var _this$props5 = _this.props,\n          customUrl = _this$props5.customUrl,\n          setEditCustomUrl = _this$props5.setEditCustomUrl;\n\n      var selectedFieldNames = selectedOptions.map(function (option) {\n        return option.label;\n      });\n\n      var kibanaSettings = customUrl.kibanaSettings;\n      setEditCustomUrl(_extends({}, customUrl, {\n        kibanaSettings: _extends({}, kibanaSettings, {\n          queryFieldNames: selectedFieldNames\n        })\n      }));\n    };\n\n    _this.onOtherUrlValueChange = function (e) {\n      var _this$props6 = _this.props,\n          customUrl = _this$props6.customUrl,\n          setEditCustomUrl = _this$props6.setEditCustomUrl;\n\n      setEditCustomUrl(_extends({}, customUrl, {\n        otherUrlSettings: {\n          urlValue: e.target.value\n        }\n      }));\n    };\n\n    _this.onTimeRangeTypeChange = function (e) {\n      var _this$props7 = _this.props,\n          customUrl = _this$props7.customUrl,\n          setEditCustomUrl = _this$props7.setEditCustomUrl;\n\n      var timeRange = customUrl.timeRange;\n      setEditCustomUrl(_extends({}, customUrl, {\n        timeRange: _extends({}, timeRange, {\n          type: e.target.value\n        })\n      }));\n    };\n\n    _this.onTimeRangeIntervalChange = function (e) {\n      var _this$props8 = _this.props,\n          customUrl = _this$props8.customUrl,\n          setEditCustomUrl = _this$props8.setEditCustomUrl;\n\n      var timeRange = customUrl.timeRange;\n      setEditCustomUrl(_extends({}, customUrl, {\n        timeRange: _extends({}, timeRange, {\n          interval: e.target.value\n        })\n      }));\n    };\n\n    return _this;\n  }\n\n  _createClass(CustomUrlEditor, [{\n    key: 'render',\n    value: function render() {\n      var _props = this.props,\n          customUrl = _props.customUrl,\n          savedCustomUrls = _props.savedCustomUrls,\n          dashboards = _props.dashboards,\n          indexPatterns = _props.indexPatterns,\n          queryEntityFieldNames = _props.queryEntityFieldNames,\n          intl = _props.intl;\n\n\n      if (customUrl === undefined) {\n        return;\n      }\n\n      var label = customUrl.label,\n          type = customUrl.type,\n          timeRange = customUrl.timeRange,\n          kibanaSettings = customUrl.kibanaSettings,\n          otherUrlSettings = customUrl.otherUrlSettings;\n\n\n      var dashboardOptions = dashboards.map(function (dashboard) {\n        return { value: dashboard.id, text: dashboard.title };\n      });\n\n      var indexPatternOptions = indexPatterns.map(function (indexPattern) {\n        return { value: indexPattern.id, text: indexPattern.title };\n      });\n\n      var entityOptions = queryEntityFieldNames.map(function (fieldName) {\n        return { label: fieldName };\n      });\n      var selectedEntityOptions = [];\n      if (kibanaSettings !== undefined && kibanaSettings.queryFieldNames !== undefined) {\n        var queryFieldNames = kibanaSettings.queryFieldNames;\n        selectedEntityOptions = queryFieldNames.map(function (fieldName) {\n          return { label: fieldName };\n        });\n      }\n\n      var timeRangeOptions = Object.keys(_constants.TIME_RANGE_TYPE).map(function (timeRangeType) {\n        return { value: _constants.TIME_RANGE_TYPE[timeRangeType], text: _constants.TIME_RANGE_TYPE[timeRangeType] };\n      });\n\n      var isInvalidLabel = !(0, _custom_url_utils.isValidLabel)(label, savedCustomUrls);\n      var invalidLabelError = isInvalidLabel === true ? [intl.formatMessage({\n        id: 'xpack.ml.customUrlsEditor.invalidLabelErrorMessage',\n        defaultMessage: 'A unique label must be supplied'\n      })] : [];\n\n      var isInvalidTimeRange = !(0, _utils.isValidCustomUrlSettingsTimeRange)(timeRange);\n      var invalidIntervalError = isInvalidTimeRange === true ? [intl.formatMessage({\n        id: 'xpack.ml.customUrlsList.invalidIntervalFormatErrorMessage',\n        defaultMessage: 'Invalid interval format'\n      })] : [];\n\n      return _react2.default.createElement(\n        _react2.default.Fragment,\n        null,\n        _react2.default.createElement(\n          _eui.EuiTitle,\n          { size: 'xs' },\n          _react2.default.createElement(\n            'h4',\n            null,\n            _react2.default.createElement(_react3.FormattedMessage, {\n              id: 'xpack.ml.customUrlsEditor.createNewCustomUrlTitle',\n              defaultMessage: 'Create new custom URL'\n            })\n          )\n        ),\n        _react2.default.createElement(_eui.EuiSpacer, { size: 'm' }),\n        _react2.default.createElement(\n          _eui.EuiForm,\n          { className: 'ml-edit-url-form' },\n          _react2.default.createElement(\n            _eui.EuiFormRow,\n            {\n              label: _react2.default.createElement(_react3.FormattedMessage, {\n                id: 'xpack.ml.customUrlsEditor.labelLabel',\n                defaultMessage: 'Label'\n              }),\n              className: 'url-label',\n              error: invalidLabelError,\n              isInvalid: isInvalidLabel,\n              compressed: true\n            },\n            _react2.default.createElement(_eui.EuiFieldText, {\n              value: label,\n              onChange: this.onLabelChange,\n              isInvalid: isInvalidLabel,\n              compressed: true\n            })\n          ),\n          _react2.default.createElement(\n            _eui.EuiFormRow,\n            {\n              label: _react2.default.createElement(_react3.FormattedMessage, {\n                id: 'xpack.ml.customUrlsEditor.linkToLabel',\n                defaultMessage: 'Link to'\n              }),\n              compressed: true\n            },\n            _react2.default.createElement(_eui.EuiRadioGroup, {\n              options: getLinkToOptions(),\n              idSelected: type,\n              onChange: this.onTypeChange,\n              className: 'url-link-to-radio'\n            })\n          ),\n          type === _constants.URL_TYPE.KIBANA_DASHBOARD && _react2.default.createElement(\n            _eui.EuiFormRow,\n            {\n              label: _react2.default.createElement(_react3.FormattedMessage, {\n                id: 'xpack.ml.customUrlsEditor.dashboardNameLabel',\n                defaultMessage: 'Dashboard name'\n              }),\n              compressed: true\n            },\n            _react2.default.createElement(_eui.EuiSelect, {\n              options: dashboardOptions,\n              value: kibanaSettings.dashboardId,\n              onChange: this.onDashboardChange,\n              compressed: true\n            })\n          ),\n          type === _constants.URL_TYPE.KIBANA_DISCOVER && _react2.default.createElement(\n            _eui.EuiFormRow,\n            {\n              label: _react2.default.createElement(_react3.FormattedMessage, {\n                id: 'xpack.ml.customUrlsEditor.indexPatternLabel',\n                defaultMessage: 'Index pattern'\n              }),\n              compressed: true\n            },\n            _react2.default.createElement(_eui.EuiSelect, {\n              options: indexPatternOptions,\n              value: kibanaSettings.discoverIndexPatternId,\n              onChange: this.onDiscoverIndexPatternChange,\n              compressed: true\n            })\n          ),\n          (type === _constants.URL_TYPE.KIBANA_DASHBOARD || type === _constants.URL_TYPE.KIBANA_DISCOVER) && entityOptions.length > 0 && _react2.default.createElement(\n            _eui.EuiFormRow,\n            {\n              label: _react2.default.createElement(_react3.FormattedMessage, {\n                id: 'xpack.ml.customUrlsEditor.queryEntitiesLabel',\n                defaultMessage: 'Query entities'\n              })\n            },\n            _react2.default.createElement(_eui.EuiComboBox, {\n              placeholder: intl.formatMessage({\n                id: 'xpack.ml.customUrlsEditor.selectEntitiesPlaceholder',\n                defaultMessage: 'Select entities'\n              }),\n              options: entityOptions,\n              selectedOptions: selectedEntityOptions,\n              onChange: this.onQueryEntitiesChange,\n              isClearable: true\n            })\n          ),\n          (type === _constants.URL_TYPE.KIBANA_DASHBOARD || type === _constants.URL_TYPE.KIBANA_DISCOVER) && _react2.default.createElement(\n            _eui.EuiFlexGroup,\n            null,\n            _react2.default.createElement(\n              _eui.EuiFlexItem,\n              { grow: false },\n              _react2.default.createElement(\n                _eui.EuiFormRow,\n                {\n                  label: _react2.default.createElement(_react3.FormattedMessage, {\n                    id: 'xpack.ml.customUrlsEditor.timeRangeLabel',\n                    defaultMessage: 'Time range'\n                  }),\n                  className: 'url-time-range',\n                  compressed: true\n                },\n                _react2.default.createElement(_eui.EuiSelect, {\n                  options: timeRangeOptions,\n                  value: timeRange.type,\n                  onChange: this.onTimeRangeTypeChange,\n                  compressed: true\n                })\n              )\n            ),\n            timeRange.type === _constants.TIME_RANGE_TYPE.INTERVAL && _react2.default.createElement(\n              _eui.EuiFlexItem,\n              null,\n              _react2.default.createElement(\n                _eui.EuiFormRow,\n                {\n                  label: _react2.default.createElement(_react3.FormattedMessage, {\n                    id: 'xpack.ml.customUrlsEditor.intervalLabel',\n                    defaultMessage: 'Interval'\n                  }),\n                  className: 'url-time-range',\n                  error: invalidIntervalError,\n                  isInvalid: isInvalidTimeRange,\n                  compressed: true\n                },\n                _react2.default.createElement(_eui.EuiFieldText, {\n                  value: timeRange.interval,\n                  onChange: this.onTimeRangeIntervalChange,\n                  isInvalid: isInvalidTimeRange,\n                  compressed: true\n                })\n              )\n            )\n          ),\n          type === _constants.URL_TYPE.OTHER && _react2.default.createElement(\n            _eui.EuiFormRow,\n            {\n              label: _react2.default.createElement(_react3.FormattedMessage, {\n                id: 'xpack.ml.customUrlsEditor.urlLabel',\n                defaultMessage: 'URL'\n              }),\n              compressed: true,\n              fullWidth: true\n            },\n            _react2.default.createElement(_eui.EuiTextArea, {\n              fullWidth: true,\n              rows: 2,\n              value: otherUrlSettings.urlValue,\n              onChange: this.onOtherUrlValueChange,\n              compressed: true\n            })\n          )\n        )\n      );\n    }\n  }]);\n\n  return CustomUrlEditor;\n}(_react.Component), _class.propTypes = {\n  customUrl: _propTypes2.default.object,\n  setEditCustomUrl: _propTypes2.default.func.isRequired,\n  savedCustomUrls: _propTypes2.default.array.isRequired,\n  dashboards: _propTypes2.default.array.isRequired,\n  indexPatterns: _propTypes2.default.array.isRequired,\n  queryEntityFieldNames: _propTypes2.default.array.isRequired\n}, _temp));",null]}