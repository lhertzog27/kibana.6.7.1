{"remainingRequest":"/home/anthony/git_workspaces/kibana/node_modules/thread-loader/dist/cjs.js??ref--9-1!/home/anthony/git_workspaces/kibana/node_modules/babel-loader/lib/index.js??ref--9-2!/home/anthony/git_workspaces/kibana/src/legacy/core_plugins/kibana/public/visualize/listing/visualize_listing.js","dependencies":[{"path":"/home/anthony/git_workspaces/kibana/src/legacy/core_plugins/kibana/public/visualize/listing/visualize_listing.js","mtime":1567631711601},{"path":"/home/anthony/git_workspaces/kibana/node_modules/cache-loader/dist/cjs.js","mtime":1567666236302},{"path":"/home/anthony/git_workspaces/kibana/node_modules/thread-loader/dist/cjs.js","mtime":1567666239443},{"path":"/home/anthony/git_workspaces/kibana/node_modules/babel-loader/lib/index.js","mtime":1567666227676}],"contextDependencies":[],"result":["'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.VisualizeListingController = VisualizeListingController;\n\nvar _saved_object_registry = require('ui/saved_objects/saved_object_registry');\n\nrequire('ui/pager_control');\n\nrequire('ui/pager');\n\nvar _modules = require('ui/modules');\n\nvar _timefilter = require('ui/timefilter');\n\nvar _vis_types = require('ui/registry/vis_types');\n\nvar _chrome = require('ui/chrome');\n\nvar _chrome2 = _interopRequireDefault(_chrome);\n\nvar _i18n = require('ui/i18n');\n\nvar _visualize_listing_table = require('./visualize_listing_table');\n\nvar _new_vis_modal = require('../wizard/new_vis_modal');\n\nvar _visualize_constants = require('../visualize_constants');\n\nvar _i18n2 = require('@kbn/i18n');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/*\n * Licensed to Elasticsearch B.V. under one or more contributor\n * license agreements. See the NOTICE file distributed with\n * this work for additional information regarding copyright\n * ownership. Elasticsearch B.V. licenses this file to you under\n * the Apache License, Version 2.0 (the \"License\"); you may\n * not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *    http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\n\nvar app = _modules.uiModules.get('app/visualize', ['ngRoute', 'react']);\napp.directive('visualizeListingTable', function (reactDirective) {\n  return reactDirective((0, _i18n.wrapInI18nContext)(_visualize_listing_table.VisualizeListingTable));\n});\napp.directive('newVisModal', function (reactDirective) {\n  return reactDirective((0, _i18n.wrapInI18nContext)(_new_vis_modal.NewVisModal));\n});\n\nfunction VisualizeListingController($injector, createNewVis) {\n  var _this = this;\n\n  var Notifier = $injector.get('Notifier');\n  var Private = $injector.get('Private');\n  var config = $injector.get('config');\n  var kbnUrl = $injector.get('kbnUrl');\n\n  this.visTypeRegistry = Private(_vis_types.VisTypesRegistryProvider);\n\n  _timefilter.timefilter.disableAutoRefreshSelector();\n  _timefilter.timefilter.disableTimeRangeSelector();\n\n  this.showNewVisModal = false;\n\n  this.createNewVis = function () {\n    _this.showNewVisModal = true;\n  };\n\n  this.closeNewVisModal = function () {\n    _this.showNewVisModal = false;\n    // In case the user came via a URL to this page, change the URL to the regular landing page URL after closing the modal\n    if (createNewVis) {\n      kbnUrl.changePath(_visualize_constants.VisualizeConstants.LANDING_PAGE_PATH);\n    }\n  };\n\n  if (createNewVis) {\n    // In case the user navigated to the page via the /visualize/new URL we start the dialog immediately\n    this.createNewVis();\n  }\n\n  // TODO: Extract this into an external service.\n  var services = Private(_saved_object_registry.SavedObjectRegistryProvider).byLoaderPropertiesName;\n  var visualizationService = services.visualizations;\n  var notify = new Notifier({ location: 'Visualize' });\n\n  this.fetchItems = function (filter) {\n    var isLabsEnabled = config.get('visualize:enableLabs');\n    return visualizationService.find(filter, config.get('savedObjects:listingLimit')).then(function (result) {\n      _this.totalItems = result.total;\n      _this.showLimitError = result.total > config.get('savedObjects:listingLimit');\n      _this.listingLimit = config.get('savedObjects:listingLimit');\n      return result.hits.filter(function (result) {\n        return isLabsEnabled || result.type.stage !== 'experimental';\n      });\n    });\n  };\n\n  this.deleteSelectedItems = function deleteSelectedItems(selectedIds) {\n    return visualizationService.delete(selectedIds).catch(function (error) {\n      return notify.error(error);\n    });\n  };\n\n  _chrome2.default.breadcrumbs.set([{\n    text: _i18n2.i18n.translate('kbn.visualize.visualizeListingBreadcrumbsTitle', {\n      defaultMessage: 'Visualize'\n    })\n  }]);\n  config.watch('k7design', function (val) {\n    return _this.showPluginBreadcrumbs = !val;\n  });\n}",null]}