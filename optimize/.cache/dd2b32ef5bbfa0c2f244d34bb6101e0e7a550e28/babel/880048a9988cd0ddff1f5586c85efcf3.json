{"remainingRequest":"/home/anthony/git_workspaces/kibana/node_modules/thread-loader/dist/cjs.js??ref--9-1!/home/anthony/git_workspaces/kibana/node_modules/babel-loader/lib/index.js??ref--9-2!/home/anthony/git_workspaces/kibana/x-pack/plugins/watcher/public/sections/watch_detail/components/watch_history/watch_history.js","dependencies":[{"path":"/home/anthony/git_workspaces/kibana/x-pack/plugins/watcher/public/sections/watch_detail/components/watch_history/watch_history.js","mtime":1567631712346},{"path":"/home/anthony/git_workspaces/kibana/node_modules/cache-loader/dist/cjs.js","mtime":1567666236302},{"path":"/home/anthony/git_workspaces/kibana/node_modules/thread-loader/dist/cjs.js","mtime":1567666239443},{"path":"/home/anthony/git_workspaces/kibana/node_modules/babel-loader/lib/index.js","mtime":1567666227676}],"contextDependencies":[],"result":["'use strict';\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nrequire('ui/filters/moment');\n\nvar _modules = require('ui/modules');\n\nrequire('ui/pager_control');\n\nrequire('ui/pager');\n\nrequire('ui/table_info');\n\nvar _compat = require('ui/compat');\n\nvar _constants = require('plugins/watcher/../common/constants');\n\nvar _watch_history = require('./watch_history.html');\n\nvar _watch_history2 = _interopRequireDefault(_watch_history);\n\nrequire('../watch_history_table');\n\nrequire('../watch_history_range_filter');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } /*\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * Copyright Elasticsearch B.V. and/or licensed to Elasticsearch B.V. under one\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * or more contributor license agreements. Licensed under the Elastic License;\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * you may not use this file except in compliance with the Elastic License.\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                */\n\nvar app = _modules.uiModules.get('xpack/watcher');\n\napp.directive('watchHistory', function ($injector) {\n  var pagerFactory = $injector.get('pagerFactory');\n\n  var $filter = $injector.get('$filter');\n  var orderBy = $filter('orderBy');\n  var limitTo = $filter('limitTo');\n\n  return {\n    restrict: 'E',\n    replace: true,\n    template: _watch_history2.default,\n    scope: {\n      watch: '=xpackWatch', // Property names differ due to https://git.io/vSWXV\n      historyItems: '=',\n      initialRange: '=',\n      onRangeChange: '=',\n      isLoading: '='\n    },\n    bindToController: true,\n    controllerAs: 'watchHistory',\n    controller: function (_InitAfterBindingsWor) {\n      _inherits(WatchHistoryController, _InitAfterBindingsWor);\n\n      function WatchHistoryController() {\n        var _ref;\n\n        var _temp, _this, _ret;\n\n        _classCallCheck(this, WatchHistoryController);\n\n        for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n          args[_key] = arguments[_key];\n        }\n\n        return _ret = (_temp = (_this = _possibleConstructorReturn(this, (_ref = WatchHistoryController.__proto__ || Object.getPrototypeOf(WatchHistoryController)).call.apply(_ref, [this].concat(args))), _this), _this.onPageNext = function () {\n          _this.pager.nextPage();\n        }, _this.onPagePrevious = function () {\n          _this.pager.previousPage();\n        }, _this.onSortChange = function (field, reverse) {\n          _this.sortField = field;\n          _this.sortReverse = reverse;\n        }, _this.applyFilters = function () {\n          var orderedHistoryItems = orderBy(_this.historyItems, _this.sortField, _this.sortReverse);\n          _this.pageOfHistoryItems = limitTo(orderedHistoryItems, _this.pager.pageSize, _this.pager.startIndex);\n          _this.pager.setTotalItems(orderedHistoryItems.length);\n        }, _temp), _possibleConstructorReturn(_this, _ret);\n      }\n\n      _createClass(WatchHistoryController, [{\n        key: 'initAfterBindings',\n        value: function initAfterBindings($scope) {\n          this.isLoading = false;\n          this.sortField = 'startTime';\n          this.sortReverse = true;\n          this.pageOfHistoryItems = [];\n\n          this.historyRange = this.initialRange;\n          this.pager = pagerFactory.create(this.historyItems.length, _constants.PAGINATION.PAGE_SIZE, 1);\n\n          // react to data and UI changes\n          $scope.$watchMulti(['watchHistory.historyItems', 'watchHistory.sortField', 'watchHistory.sortReverse', 'watchHistory.pager.currentPage'], this.applyFilters);\n        }\n      }, {\n        key: 'hasPageOfHistoryItems',\n        get: function get() {\n          return this.pageOfHistoryItems.length > 0;\n        }\n      }]);\n\n      return WatchHistoryController;\n    }(_compat.InitAfterBindingsWorkaround)\n  };\n});",null]}