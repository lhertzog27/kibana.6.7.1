{"remainingRequest":"/home/anthony/git_workspaces/kibana/node_modules/thread-loader/dist/cjs.js??ref--9-1!/home/anthony/git_workspaces/kibana/node_modules/babel-loader/lib/index.js??ref--9-2!/home/anthony/git_workspaces/kibana/x-pack/plugins/canvas/public/components/element_wrapper/index.js","dependencies":[{"path":"/home/anthony/git_workspaces/kibana/x-pack/plugins/canvas/public/components/element_wrapper/index.js","mtime":1567631711922},{"path":"/home/anthony/git_workspaces/kibana/node_modules/cache-loader/dist/cjs.js","mtime":1567666236302},{"path":"/home/anthony/git_workspaces/kibana/node_modules/thread-loader/dist/cjs.js","mtime":1567666239443},{"path":"/home/anthony/git_workspaces/kibana/node_modules/babel-loader/lib/index.js","mtime":1567666227676}],"contextDependencies":[],"result":["'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.ElementWrapper = undefined;\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _propTypes = require('prop-types');\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _reactRedux = require('react-redux');\n\nvar _recompose = require('recompose');\n\nvar _reactFastCompare = require('react-fast-compare');\n\nvar _reactFastCompare2 = _interopRequireDefault(_reactFastCompare);\n\nvar _workpad = require('../../state/selectors/workpad');\n\nvar _resolved_arg = require('../../lib/resolved_arg');\n\nvar _element_wrapper = require('./element_wrapper');\n\nvar _handlers = require('./lib/handlers');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _objectWithoutProperties(obj, keys) { var target = {}; for (var i in obj) { if (keys.indexOf(i) >= 0) continue; if (!Object.prototype.hasOwnProperty.call(obj, i)) continue; target[i] = obj[i]; } return target; } /*\n                                                                                                                                                                                                                              * Copyright Elasticsearch B.V. and/or licensed to Elasticsearch B.V. under one\n                                                                                                                                                                                                                              * or more contributor license agreements. Licensed under the Elastic License;\n                                                                                                                                                                                                                              * you may not use this file except in compliance with the Elastic License.\n                                                                                                                                                                                                                              */\n\nfunction selectorFactory(dispatch) {\n  var result = {};\n  var createHandlers = (0, _handlers.createHandlers)(dispatch);\n\n  return function (nextState, nextOwnProps) {\n    var element = nextOwnProps.element,\n        restOwnProps = _objectWithoutProperties(nextOwnProps, ['element']);\n\n    var transformMatrix = element.transformMatrix,\n        width = element.width,\n        height = element.height;\n\n\n    var resolvedArg = (0, _workpad.getResolvedArgs)(nextState, element.id, 'expressionRenderable');\n    var selectedPage = (0, _workpad.getSelectedPage)(nextState);\n\n    // build interim props object\n    var nextResult = _extends({}, restOwnProps, {\n      // state and state-derived props\n      selectedPage: selectedPage,\n      state: (0, _resolved_arg.getState)(resolvedArg),\n      renderable: (0, _resolved_arg.getValue)(resolvedArg),\n      // pass along the handlers creation function\n      createHandlers: createHandlers,\n      // required parts of the element object\n      transformMatrix: transformMatrix,\n      width: width,\n      height: height,\n      // pass along only the useful parts of the element object\n      // so handlers object can be created\n      element: {\n        id: element.id,\n        filter: element.filter,\n        expression: element.expression\n      }\n    });\n\n    // update props only if something actually changed\n    if (!(0, _reactFastCompare2.default)(result, nextResult)) {\n      result = nextResult;\n    }\n\n    return result;\n  };\n}\n\nvar ElementWrapper = (0, _recompose.compose)((0, _reactRedux.connectAdvanced)(selectorFactory), (0, _recompose.withPropsOnChange)(function (props, nextProps) {\n  return !(0, _reactFastCompare2.default)(props.element, nextProps.element);\n}, function (props) {\n  var element = props.element,\n      createHandlers = props.createHandlers;\n\n  var handlers = createHandlers(element, props.selectedPage);\n  // this removes element and createHandlers from passed props\n  return { handlers: handlers };\n}), (0, _recompose.mapProps)(function (props) {\n  // remove elements and createHandlers from props passed to component\n  // eslint-disable-next-line no-unused-vars\n  var element = props.element,\n      createHandlers = props.createHandlers,\n      selectedPage = props.selectedPage,\n      restProps = _objectWithoutProperties(props, ['element', 'createHandlers', 'selectedPage']);\n\n  return restProps;\n}))(_element_wrapper.ElementWrapper);\n\nexports.ElementWrapper = ElementWrapper;\nElementWrapper.propTypes = {\n  element: _propTypes2.default.shape({\n    id: _propTypes2.default.string.isRequired,\n    transformMatrix: _propTypes2.default.arrayOf(_propTypes2.default.number).isRequired,\n    width: _propTypes2.default.number.isRequired,\n    height: _propTypes2.default.number.isRequired,\n    // sometimes we get a shape, which lacks an expression\n    // so element properties can not be marked as required\n    expression: _propTypes2.default.string,\n    filter: _propTypes2.default.string\n  }).isRequired\n};",null]}