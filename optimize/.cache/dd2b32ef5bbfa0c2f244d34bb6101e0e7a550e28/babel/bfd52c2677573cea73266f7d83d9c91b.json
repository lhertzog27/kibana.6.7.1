{"remainingRequest":"/home/anthony/git_workspaces/kibana/node_modules/thread-loader/dist/cjs.js??ref--9-1!/home/anthony/git_workspaces/kibana/node_modules/babel-loader/lib/index.js??ref--9-2!/home/anthony/git_workspaces/kibana/x-pack/plugins/ml/public/jobs/new_job/wizard/steps/index_or_search/index_or_search_controller.js","dependencies":[{"path":"/home/anthony/git_workspaces/kibana/x-pack/plugins/ml/public/jobs/new_job/wizard/steps/index_or_search/index_or_search_controller.js","mtime":1567631712061},{"path":"/home/anthony/git_workspaces/kibana/node_modules/cache-loader/dist/cjs.js","mtime":1567666236302},{"path":"/home/anthony/git_workspaces/kibana/node_modules/thread-loader/dist/cjs.js","mtime":1567666239443},{"path":"/home/anthony/git_workspaces/kibana/node_modules/babel-loader/lib/index.js","mtime":1567666227676}],"contextDependencies":[],"result":["'use strict';\n\nvar _routes = require('ui/routes');\n\nvar _routes2 = _interopRequireDefault(_routes);\n\nvar _check_license = require('plugins/ml/license/check_license');\n\nvar _preconfigured_job_redirect = require('plugins/ml/jobs/new_job/wizard/preconfigured_job_redirect');\n\nvar _check_privilege = require('plugins/ml/privilege/check_privilege');\n\nvar _index_utils = require('plugins/ml/util/index_utils');\n\nvar _check_ml_nodes = require('plugins/ml/ml_nodes_check/check_ml_nodes');\n\nvar _index_or_search = require('./index_or_search.html');\n\nvar _index_or_search2 = _interopRequireDefault(_index_or_search);\n\nvar _timefilter = require('ui/timefilter');\n\nvar _modules = require('ui/modules');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/*\n * Copyright Elasticsearch B.V. and/or licensed to Elasticsearch B.V. under one\n * or more contributor license agreements. Licensed under the Elastic License;\n * you may not use this file except in compliance with the Elastic License.\n */\n\n/*\n * Controller for the first step in the Create Job wizard, allowing the user to\n * select the Kibana index pattern or saved search to use for creating a job.\n */\n\n_routes2.default.when('/jobs/new_job', {\n  redirectTo: '/jobs/new_job/step/index_or_search'\n});\n\n_routes2.default.when('/jobs/new_job/step/index_or_search', {\n  template: _index_or_search2.default,\n  resolve: {\n    CheckLicense: _check_license.checkLicenseExpired,\n    privileges: _check_privilege.checkCreateJobsPrivilege,\n    indexPatterns: _index_utils.loadIndexPatterns,\n    preConfiguredJobRedirect: _preconfigured_job_redirect.preConfiguredJobRedirect,\n    checkMlNodesAvailable: _check_ml_nodes.checkMlNodesAvailable,\n    nextStepPath: function nextStepPath() {\n      return '#/jobs/new_job/step/job_type';\n    }\n  }\n});\n\n_routes2.default.when('/datavisualizer_index_select', {\n  template: _index_or_search2.default,\n  resolve: {\n    CheckLicense: _check_license.checkBasicLicense,\n    privileges: _check_privilege.checkFindFileStructurePrivilege,\n    indexPatterns: _index_utils.loadIndexPatterns,\n    nextStepPath: function nextStepPath() {\n      return '#jobs/new_job/datavisualizer';\n    }\n  }\n});\n\nvar _module = _modules.uiModules.get('apps/ml');\n\n_module.controller('MlNewJobStepIndexOrSearch', function ($scope, $route) {\n\n  _timefilter.timefilter.disableTimeRangeSelector(); // remove time picker from top of page\n  _timefilter.timefilter.disableAutoRefreshSelector(); // remove time picker from top of page\n\n  $scope.indexPatterns = (0, _index_utils.getIndexPatterns)().filter(function (indexPattern) {\n    return !indexPattern.get('type');\n  });\n\n  var path = $route.current.locals.nextStepPath;\n\n  $scope.withIndexPatternUrl = function (pattern) {\n    if (!pattern) {\n      return;\n    }\n    return path + '?index=' + encodeURIComponent(pattern.id);\n  };\n\n  $scope.withSavedSearchUrl = function (savedSearch) {\n    if (!savedSearch) {\n      return;\n    }\n    return path + '?savedSearchId=' + encodeURIComponent(savedSearch.id);\n  };\n});",null]}