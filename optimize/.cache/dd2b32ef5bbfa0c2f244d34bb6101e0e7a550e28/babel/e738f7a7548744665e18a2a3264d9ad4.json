{"remainingRequest":"/home/anthony/git_workspaces/kibana/node_modules/thread-loader/dist/cjs.js??ref--9-1!/home/anthony/git_workspaces/kibana/node_modules/babel-loader/lib/index.js??ref--9-2!/home/anthony/git_workspaces/kibana/x-pack/plugins/ml/public/components/controls/select_severity/select_severity.js","dependencies":[{"path":"/home/anthony/git_workspaces/kibana/x-pack/plugins/ml/public/components/controls/select_severity/select_severity.js","mtime":1567631712029},{"path":"/home/anthony/git_workspaces/kibana/node_modules/cache-loader/dist/cjs.js","mtime":1567666236302},{"path":"/home/anthony/git_workspaces/kibana/node_modules/thread-loader/dist/cjs.js","mtime":1567666239443},{"path":"/home/anthony/git_workspaces/kibana/node_modules/babel-loader/lib/index.js","mtime":1567666227676}],"contextDependencies":[],"result":["'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.SelectSeverity = exports.mlSelectSeverityService = exports.SEVERITY_OPTIONS = undefined;\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _optionsMap;\n\nvar _propTypes = require('prop-types');\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _lodash = require('lodash');\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _i18n = require('@kbn/i18n');\n\nvar _react3 = require('@kbn/i18n/react');\n\nvar _eui = require('@elastic/eui');\n\nvar _anomaly_utils = require('../../../../common/util/anomaly_utils');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; } /*\n                                                                                                                                                                                                                   * Copyright Elasticsearch B.V. and/or licensed to Elasticsearch B.V. under one\n                                                                                                                                                                                                                   * or more contributor license agreements. Licensed under the Elastic License;\n                                                                                                                                                                                                                   * you may not use this file except in compliance with the Elastic License.\n                                                                                                                                                                                                                   */\n\n/*\n * React component for rendering a select element with threshold levels.\n */\n\n\nvar warningLabel = _i18n.i18n.translate('xpack.ml.controls.selectSeverity.warningLabel', { defaultMessage: 'warning' });\nvar minorLabel = _i18n.i18n.translate('xpack.ml.controls.selectSeverity.minorLabel', { defaultMessage: 'minor' });\nvar majorLabel = _i18n.i18n.translate('xpack.ml.controls.selectSeverity.majorLabel', { defaultMessage: 'major' });\nvar criticalLabel = _i18n.i18n.translate('xpack.ml.controls.selectSeverity.criticalLabel', { defaultMessage: 'critical' });\n\nvar optionsMap = (_optionsMap = {}, _defineProperty(_optionsMap, warningLabel, 0), _defineProperty(_optionsMap, minorLabel, 25), _defineProperty(_optionsMap, majorLabel, 50), _defineProperty(_optionsMap, criticalLabel, 75), _optionsMap);\n\nvar SEVERITY_OPTIONS = exports.SEVERITY_OPTIONS = [{\n  val: 0,\n  display: warningLabel,\n  color: (0, _anomaly_utils.getSeverityColor)(0)\n}, {\n  val: 25,\n  display: minorLabel,\n  color: (0, _anomaly_utils.getSeverityColor)(25)\n}, {\n  val: 50,\n  display: majorLabel,\n  color: (0, _anomaly_utils.getSeverityColor)(50)\n}, {\n  val: 75,\n  display: criticalLabel,\n  color: (0, _anomaly_utils.getSeverityColor)(75)\n}];\n\nfunction optionValueToThreshold(value) {\n  // Get corresponding threshold object with required display and val properties from the specified value.\n  var threshold = SEVERITY_OPTIONS.find(function (opt) {\n    return opt.val === value;\n  });\n\n  // Default to warning if supplied value doesn't map to one of the options.\n  if (threshold === undefined) {\n    threshold = SEVERITY_OPTIONS[0];\n  }\n\n  return threshold;\n}\n\n// This service will be populated by the corresponding angularjs based one.\nvar mlSelectSeverityService = exports.mlSelectSeverityService = {\n  intialized: false,\n  state: null\n};\n\nvar SelectSeverity = function (_Component) {\n  _inherits(SelectSeverity, _Component);\n\n  function SelectSeverity(props) {\n    _classCallCheck(this, SelectSeverity);\n\n    // Restore the threshold from the state, or default to warning.\n    var _this = _possibleConstructorReturn(this, (SelectSeverity.__proto__ || Object.getPrototypeOf(SelectSeverity)).call(this, props));\n\n    _this.onChange = function (valueDisplay) {\n      _this.setState({\n        valueDisplay: valueDisplay\n      });\n      var threshold = optionValueToThreshold(optionsMap[valueDisplay]);\n\n      if (_this.mlSelectSeverityService !== undefined) {\n        _this.mlSelectSeverityService.state.set('threshold', threshold).changed();\n      } else {\n        _this.props.onChangeHandler(threshold);\n      }\n    };\n\n    _this.getOptions = function () {\n      return SEVERITY_OPTIONS.map(function (_ref) {\n        var color = _ref.color,\n            display = _ref.display,\n            val = _ref.val;\n        return {\n          value: display,\n          inputDisplay: _react2.default.createElement(\n            _react.Fragment,\n            null,\n            _react2.default.createElement(\n              _eui.EuiHealth,\n              { color: color, style: { lineHeight: 'inherit' } },\n              display\n            )\n          ),\n          dropdownDisplay: _react2.default.createElement(\n            _react.Fragment,\n            null,\n            _react2.default.createElement(\n              _eui.EuiHealth,\n              { color: color, style: { lineHeight: 'inherit' } },\n              display\n            ),\n            _react2.default.createElement(_eui.EuiSpacer, { size: 'xs' }),\n            _react2.default.createElement(\n              _eui.EuiText,\n              { size: 'xs', color: 'subdued' },\n              _react2.default.createElement(\n                'p',\n                { className: 'euiTextColor--subdued' },\n                _react2.default.createElement(_react3.FormattedMessage, {\n                  id: 'xpack.ml.controls.selectSeverity.scoreDetailsDescription',\n                  defaultMessage: 'score {value} and above',\n                  values: { value: val }\n                })\n              )\n            )\n          )\n        };\n      });\n    };\n\n    if (mlSelectSeverityService.intialized) {\n      _this.mlSelectSeverityService = mlSelectSeverityService;\n    }\n\n    _this.state = {\n      valueDisplay: SEVERITY_OPTIONS[0].display\n    };\n    return _this;\n  }\n\n  _createClass(SelectSeverity, [{\n    key: 'componentDidMount',\n    value: function componentDidMount() {\n      // set initial state from service if available\n      if (this.mlSelectSeverityService !== undefined) {\n        var thresholdState = this.mlSelectSeverityService.state.get('threshold');\n        var thresholdValue = (0, _lodash.get)(thresholdState, 'val', 0);\n        var threshold = optionValueToThreshold(thresholdValue);\n        // set initial selected option equal to threshold value\n        var selectedOption = SEVERITY_OPTIONS.find(function (opt) {\n          return opt.val === threshold.val;\n        });\n        this.mlSelectSeverityService.state.set('threshold', threshold);\n        this.setState({ valueDisplay: selectedOption.display });\n      }\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var valueDisplay = this.state.valueDisplay;\n\n      var options = this.getOptions();\n\n      return _react2.default.createElement(_eui.EuiSuperSelect, {\n        className: this.props.classNames,\n        hasDividers: true,\n        options: options,\n        valueOfSelected: valueDisplay,\n        onChange: this.onChange\n      });\n    }\n  }]);\n\n  return SelectSeverity;\n}(_react.Component);\n\nSelectSeverity.propTypes = {\n  mlSelectSeverityService: _propTypes2.default.object,\n  onChangeHandler: _propTypes2.default.func,\n  classNames: _propTypes2.default.string\n};\n\nSelectSeverity.defaultProps = {\n  mlSelectSeverityService: undefined,\n  onChangeHandler: function onChangeHandler() {},\n  classNames: ''\n};\n\nexports.SelectSeverity = SelectSeverity;",null]}