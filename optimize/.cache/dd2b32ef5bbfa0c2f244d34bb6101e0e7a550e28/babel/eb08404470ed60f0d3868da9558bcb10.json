{"remainingRequest":"/home/anthony/git_workspaces/kibana/node_modules/thread-loader/dist/cjs.js??ref--9-1!/home/anthony/git_workspaces/kibana/node_modules/babel-loader/lib/index.js??ref--9-2!/home/anthony/git_workspaces/kibana/src/legacy/core_plugins/metrics/public/components/vis_types/markdown/vis.js","dependencies":[{"path":"/home/anthony/git_workspaces/kibana/src/legacy/core_plugins/metrics/public/components/vis_types/markdown/vis.js","mtime":1567631711629},{"path":"/home/anthony/git_workspaces/kibana/node_modules/cache-loader/dist/cjs.js","mtime":1567666236302},{"path":"/home/anthony/git_workspaces/kibana/node_modules/thread-loader/dist/cjs.js","mtime":1567666239443},{"path":"/home/anthony/git_workspaces/kibana/node_modules/babel-loader/lib/index.js","mtime":1567666227676}],"contextDependencies":[],"result":["'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; /*\n                                                                                                                                                                                                                                                                   * Licensed to Elasticsearch B.V. under one or more contributor\n                                                                                                                                                                                                                                                                   * license agreements. See the NOTICE file distributed with\n                                                                                                                                                                                                                                                                   * this work for additional information regarding copyright\n                                                                                                                                                                                                                                                                   * ownership. Elasticsearch B.V. licenses this file to you under\n                                                                                                                                                                                                                                                                   * the Apache License, Version 2.0 (the \"License\"); you may\n                                                                                                                                                                                                                                                                   * not use this file except in compliance with the License.\n                                                                                                                                                                                                                                                                   * You may obtain a copy of the License at\n                                                                                                                                                                                                                                                                   *\n                                                                                                                                                                                                                                                                   *    http://www.apache.org/licenses/LICENSE-2.0\n                                                                                                                                                                                                                                                                   *\n                                                                                                                                                                                                                                                                   * Unless required by applicable law or agreed to in writing,\n                                                                                                                                                                                                                                                                   * software distributed under the License is distributed on an\n                                                                                                                                                                                                                                                                   * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n                                                                                                                                                                                                                                                                   * KIND, either express or implied.  See the License for the\n                                                                                                                                                                                                                                                                   * specific language governing permissions and limitations\n                                                                                                                                                                                                                                                                   * under the License.\n                                                                                                                                                                                                                                                                   */\n\nvar _propTypes = require('prop-types');\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _lodash = require('lodash');\n\nvar _lodash2 = _interopRequireDefault(_lodash);\n\nvar _color = require('color');\n\nvar _color2 = _interopRequireDefault(_color);\n\nvar _reactMarkdown = require('react-markdown');\n\nvar _reactMarkdown2 = _interopRequireDefault(_reactMarkdown);\n\nvar _replace_vars = require('../../lib/replace_vars');\n\nvar _replace_vars2 = _interopRequireDefault(_replace_vars);\n\nvar _convert_series_to_vars = require('../../lib/convert_series_to_vars');\n\nvar _convert_series_to_vars2 = _interopRequireDefault(_convert_series_to_vars);\n\nvar _error = require('../../error');\n\nvar _error2 = _interopRequireDefault(_error);\n\nvar _uuid = require('uuid');\n\nvar _uuid2 = _interopRequireDefault(_uuid);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar getMarkdownId = function getMarkdownId(id) {\n  return 'markdown-' + id;\n};\n\nfunction MarkdownVisualization(props) {\n  var backgroundColor = props.backgroundColor,\n      model = props.model,\n      visData = props.visData,\n      dateFormat = props.dateFormat;\n\n  var series = _lodash2.default.get(visData, model.id + '.series', []);\n  var variables = (0, _convert_series_to_vars2.default)(series, model, dateFormat, props.getConfig);\n  var style = {};\n  var markdownElementId = getMarkdownId(_uuid2.default.v1());\n\n  var reversed = props.reversed;\n  var panelBackgroundColor = model.background_color || backgroundColor;\n  if (panelBackgroundColor) {\n    style.backgroundColor = panelBackgroundColor;\n    reversed = (0, _color2.default)(panelBackgroundColor).luminosity() < 0.45;\n  }\n  var markdown = void 0;\n  var markdownCss = '';\n\n  if (model.markdown) {\n    var markdownSource = (0, _replace_vars2.default)(model.markdown, {}, _extends({\n      _all: variables\n    }, variables));\n\n    if (model.markdown_css) {\n      markdownCss = model.markdown_css.replace(new RegExp(getMarkdownId(model.id), 'g'), markdownElementId);\n    }\n\n    var className = 'tvbMarkdown';\n    var contentClassName = 'tvbMarkdown__content ' + model.markdown_vertical_align;\n    if (model.markdown_scrollbars) contentClassName += ' scrolling';\n    if (reversed) className += ' reversed';\n    var markdownError = markdownSource instanceof Error ? markdownSource : null;\n    markdown = _react2.default.createElement(\n      'div',\n      { className: className, 'data-test-subj': 'tsvbMarkdown' },\n      markdownError && _react2.default.createElement(_error2.default, { error: markdownError }),\n      _react2.default.createElement(\n        'style',\n        { type: 'text/css' },\n        markdownCss\n      ),\n      _react2.default.createElement(\n        'div',\n        { className: contentClassName },\n        _react2.default.createElement(\n          'div',\n          { id: markdownElementId },\n          !markdownError && _react2.default.createElement(_reactMarkdown2.default, { escapeHtml: true, source: markdownSource })\n        )\n      )\n    );\n  }\n  return _react2.default.createElement(\n    'div',\n    { className: 'tvbVis', style: style },\n    markdown\n  );\n}\n\nMarkdownVisualization.propTypes = {\n  backgroundColor: _propTypes2.default.string,\n  className: _propTypes2.default.string,\n  model: _propTypes2.default.object,\n  onBrush: _propTypes2.default.func,\n  onChange: _propTypes2.default.func,\n  reversed: _propTypes2.default.bool,\n  visData: _propTypes2.default.object,\n  dateFormat: _propTypes2.default.string,\n  getConfig: _propTypes2.default.func\n};\n\nexports.default = MarkdownVisualization;\nmodule.exports = exports['default'];",null]}