{"remainingRequest":"/home/anthony/git_workspaces/kibana/node_modules/thread-loader/dist/cjs.js??ref--10-1!/home/anthony/git_workspaces/kibana/node_modules/ts-loader/index.js??ref--10-2!/home/anthony/git_workspaces/kibana/x-pack/plugins/apm/public/services/rest/apm/error_groups.ts","dependencies":[{"path":"/home/anthony/git_workspaces/kibana/x-pack/plugins/apm/public/services/rest/apm/error_groups.ts","mtime":1567631711870},{"path":"/home/anthony/git_workspaces/kibana/node_modules/cache-loader/dist/cjs.js","mtime":1567666236302},{"path":"/home/anthony/git_workspaces/kibana/node_modules/thread-loader/dist/cjs.js","mtime":1567666239443},{"path":"/home/anthony/git_workspaces/kibana/node_modules/ts-loader/index.js","mtime":1567666229769}],"contextDependencies":[],"result":["/*\n * Copyright Elasticsearch B.V. and/or licensed to Elasticsearch B.V. under one\n * or more contributor license agreements. Licensed under the Elastic License;\n * you may not use this file except in compliance with the Elastic License.\n */\nimport * as tslib_1 from \"tslib\";\nimport { callApi } from '../callApi';\nimport { getEncodedEsQuery } from './apm';\nexport function loadErrorGroupList(_a) {\n    var serviceName = _a.serviceName, start = _a.start, end = _a.end, kuery = _a.kuery, size = _a.size, sortField = _a.sortField, sortDirection = _a.sortDirection;\n    return tslib_1.__awaiter(this, void 0, void 0, function () {\n        var _b, _c, _d;\n        return tslib_1.__generator(this, function (_e) {\n            switch (_e.label) {\n                case 0:\n                    _b = callApi;\n                    _c = {\n                        pathname: \"/api/apm/services/\" + serviceName + \"/errors\"\n                    };\n                    _d = {\n                        start: start,\n                        end: end,\n                        size: size,\n                        sortField: sortField,\n                        sortDirection: sortDirection\n                    };\n                    return [4 /*yield*/, getEncodedEsQuery(kuery)];\n                case 1: return [2 /*return*/, _b.apply(void 0, [(_c.query = (_d.esFilterQuery = _e.sent(),\n                            _d),\n                            _c)])];\n            }\n        });\n    });\n}\nexport function loadErrorGroupDetails(_a) {\n    var serviceName = _a.serviceName, start = _a.start, end = _a.end, kuery = _a.kuery, errorGroupId = _a.errorGroupId;\n    return tslib_1.__awaiter(this, void 0, void 0, function () {\n        var _b, _c, _d;\n        return tslib_1.__generator(this, function (_e) {\n            switch (_e.label) {\n                case 0:\n                    _b = callApi;\n                    _c = {\n                        pathname: \"/api/apm/services/\" + serviceName + \"/errors/\" + errorGroupId\n                    };\n                    _d = {\n                        start: start,\n                        end: end\n                    };\n                    return [4 /*yield*/, getEncodedEsQuery(kuery)];\n                case 1: return [2 /*return*/, _b.apply(void 0, [(_c.query = (_d.esFilterQuery = _e.sent(),\n                            _d),\n                            _c)])];\n            }\n        });\n    });\n}\nexport function loadErrorDistribution(_a) {\n    var serviceName = _a.serviceName, start = _a.start, end = _a.end, kuery = _a.kuery, errorGroupId = _a.errorGroupId;\n    return tslib_1.__awaiter(this, void 0, void 0, function () {\n        var pathname, _b, _c, _d;\n        return tslib_1.__generator(this, function (_e) {\n            switch (_e.label) {\n                case 0:\n                    pathname = errorGroupId\n                        ? \"/api/apm/services/\" + serviceName + \"/errors/\" + errorGroupId + \"/distribution\"\n                        : \"/api/apm/services/\" + serviceName + \"/errors/distribution\";\n                    _b = callApi;\n                    _c = {\n                        pathname: pathname\n                    };\n                    _d = {\n                        start: start,\n                        end: end\n                    };\n                    return [4 /*yield*/, getEncodedEsQuery(kuery)];\n                case 1: return [2 /*return*/, _b.apply(void 0, [(_c.query = (_d.esFilterQuery = _e.sent(),\n                            _d),\n                            _c)])];\n            }\n        });\n    });\n}\n",{"version":3,"file":"/home/anthony/git_workspaces/kibana/x-pack/plugins/apm/public/services/rest/apm/error_groups.ts","sourceRoot":"","sources":["/home/anthony/git_workspaces/kibana/x-pack/plugins/apm/public/services/rest/apm/error_groups.ts"],"names":[],"mappings":"AAAA;;;;GAIG;;AAMH,OAAO,EAAE,OAAO,EAAE,MAAM,YAAY,CAAC;AACrC,OAAO,EAAE,iBAAiB,EAAE,MAAM,OAAO,CAAC;AAM1C,MAAM,UAAgB,kBAAkB,CAAC,EAQlB;QAPrB,4BAAW,EACX,gBAAK,EACL,YAAG,EACH,gBAAK,EACL,cAAI,EACJ,wBAAS,EACT,gCAAa;;;;;;oBAEN,KAAA,OAAO,CAAA;;wBACZ,QAAQ,EAAE,uBAAqB,WAAW,YAAS;;;wBAEjD,KAAK,OAAA;wBACL,GAAG,KAAA;wBACH,IAAI,MAAA;wBACJ,SAAS,WAAA;wBACT,aAAa,eAAA;;oBACE,qBAAM,iBAAiB,CAAC,KAAK,CAAC,EAAA;wBARjD,sBAAO,mBAEL,QAAK,IAMH,gBAAa,GAAE,SAA8B;+BAC9C;iCACD,EAAC;;;;CACJ;AAED,MAAM,UAAgB,qBAAqB,CAAC,EAM/B;QALX,4BAAW,EACX,gBAAK,EACL,YAAG,EACH,gBAAK,EACL,8BAAY;;;;;;oBAEL,KAAA,OAAO,CAAA;;wBACZ,QAAQ,EAAE,uBAAqB,WAAW,gBAAW,YAAc;;;wBAEjE,KAAK,OAAA;wBACL,GAAG,KAAA;;oBACY,qBAAM,iBAAiB,CAAC,KAAK,CAAC,EAAA;wBALjD,sBAAO,mBAEL,QAAK,IAGH,gBAAa,GAAE,SAA8B;+BAC9C;iCACD,EAAC;;;;CACJ;AAED,MAAM,UAAgB,qBAAqB,CAAC,EAM/B;QALX,4BAAW,EACX,gBAAK,EACL,YAAG,EACH,gBAAK,EACL,8BAAY;;;;;;oBAEN,QAAQ,GAAG,YAAY;wBAC3B,CAAC,CAAC,uBAAqB,WAAW,gBAAW,YAAY,kBAAe;wBACxE,CAAC,CAAC,uBAAqB,WAAW,yBAAsB,CAAC;oBAEpD,KAAA,OAAO,CAAA;;wBACZ,QAAQ,UAAA;;;wBAEN,KAAK,OAAA;wBACL,GAAG,KAAA;;oBACY,qBAAM,iBAAiB,CAAC,KAAK,CAAC,EAAA;wBALjD,sBAAO,mBAEL,QAAK,IAGH,gBAAa,GAAE,SAA8B;+BAC9C;iCACD,EAAC;;;;CACJ","sourcesContent":["/*\n * Copyright Elasticsearch B.V. and/or licensed to Elasticsearch B.V. under one\n * or more contributor license agreements. Licensed under the Elastic License;\n * you may not use this file except in compliance with the Elastic License.\n */\n\nimport { ErrorDistributionAPIResponse } from 'x-pack/plugins/apm/server/lib/errors/distribution/get_distribution';\nimport { ErrorGroupAPIResponse } from 'x-pack/plugins/apm/server/lib/errors/get_error_group';\nimport { ErrorGroupListAPIResponse } from 'x-pack/plugins/apm/server/lib/errors/get_error_groups';\nimport { IUrlParams } from '../../../store/urlParams';\nimport { callApi } from '../callApi';\nimport { getEncodedEsQuery } from './apm';\n\ninterface ErrorGroupListParams extends IUrlParams {\n  size: number;\n}\n\nexport async function loadErrorGroupList({\n  serviceName,\n  start,\n  end,\n  kuery,\n  size,\n  sortField,\n  sortDirection\n}: ErrorGroupListParams) {\n  return callApi<ErrorGroupListAPIResponse>({\n    pathname: `/api/apm/services/${serviceName}/errors`,\n    query: {\n      start,\n      end,\n      size,\n      sortField,\n      sortDirection,\n      esFilterQuery: await getEncodedEsQuery(kuery)\n    }\n  });\n}\n\nexport async function loadErrorGroupDetails({\n  serviceName,\n  start,\n  end,\n  kuery,\n  errorGroupId\n}: IUrlParams) {\n  return callApi<ErrorGroupAPIResponse>({\n    pathname: `/api/apm/services/${serviceName}/errors/${errorGroupId}`,\n    query: {\n      start,\n      end,\n      esFilterQuery: await getEncodedEsQuery(kuery)\n    }\n  });\n}\n\nexport async function loadErrorDistribution({\n  serviceName,\n  start,\n  end,\n  kuery,\n  errorGroupId\n}: IUrlParams) {\n  const pathname = errorGroupId\n    ? `/api/apm/services/${serviceName}/errors/${errorGroupId}/distribution`\n    : `/api/apm/services/${serviceName}/errors/distribution`;\n\n  return callApi<ErrorDistributionAPIResponse>({\n    pathname,\n    query: {\n      start,\n      end,\n      esFilterQuery: await getEncodedEsQuery(kuery)\n    }\n  });\n}\n"]}]}