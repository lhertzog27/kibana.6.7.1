{"remainingRequest":"/home/anthony/git_workspaces/kibana/node_modules/thread-loader/dist/cjs.js??ref--10-1!/home/anthony/git_workspaces/kibana/node_modules/ts-loader/index.js??ref--10-2!/home/anthony/git_workspaces/kibana/x-pack/plugins/infra/public/apps/start_app.tsx","dependencies":[{"path":"/home/anthony/git_workspaces/kibana/x-pack/plugins/infra/public/apps/start_app.tsx","mtime":1567631711978},{"path":"/home/anthony/git_workspaces/kibana/node_modules/cache-loader/dist/cjs.js","mtime":1567666236302},{"path":"/home/anthony/git_workspaces/kibana/node_modules/thread-loader/dist/cjs.js","mtime":1567666239443},{"path":"/home/anthony/git_workspaces/kibana/node_modules/ts-loader/index.js","mtime":1567666229769}],"contextDependencies":[],"result":["/*\n * Copyright Elasticsearch B.V. and/or licensed to Elasticsearch B.V. under one\n * or more contributor license agreements. Licensed under the Elastic License;\n * you may not use this file except in compliance with the Elastic License.\n */\nimport * as tslib_1 from \"tslib\";\nimport { Provider as ConstateProvider } from 'constate';\nimport { createHashHistory } from 'history';\nimport React from 'react';\nimport { ApolloProvider } from 'react-apollo';\nimport { Provider as ReduxStoreProvider } from 'react-redux';\nimport { BehaviorSubject } from 'rxjs';\nimport { pluck } from 'rxjs/operators';\nimport { ThemeProvider } from 'styled-components';\n// TODO use theme provided from parentApp when kibana supports it\nimport { EuiErrorBoundary } from '@elastic/eui';\nimport euiDarkVars from '@elastic/eui/dist/eui_theme_dark.json';\nimport euiLightVars from '@elastic/eui/dist/eui_theme_light.json';\nimport { I18nContext } from 'ui/i18n';\nimport { PageRouter } from '../routes';\nimport { createStore } from '../store';\nexport function startApp(libs) {\n    return tslib_1.__awaiter(this, void 0, void 0, function () {\n        var history, libs$, store;\n        return tslib_1.__generator(this, function (_a) {\n            history = createHashHistory();\n            libs$ = new BehaviorSubject(libs);\n            store = createStore({\n                apolloClient: libs$.pipe(pluck('apolloClient')),\n                observableApi: libs$.pipe(pluck('observableApi')),\n            });\n            libs.framework.render(React.createElement(I18nContext, null,\n                React.createElement(EuiErrorBoundary, null,\n                    React.createElement(ConstateProvider, { devtools: true },\n                        React.createElement(ReduxStoreProvider, { store: store },\n                            React.createElement(ApolloProvider, { client: libs.apolloClient },\n                                React.createElement(ThemeProvider, { theme: function () { return ({\n                                        eui: libs.framework.darkMode ? euiDarkVars : euiLightVars,\n                                        darkMode: libs.framework.darkMode,\n                                    }); } },\n                                    React.createElement(PageRouter, { history: history }))))))));\n            return [2 /*return*/];\n        });\n    });\n}\n",{"version":3,"file":"/home/anthony/git_workspaces/kibana/x-pack/plugins/infra/public/apps/start_app.tsx","sourceRoot":"","sources":["/home/anthony/git_workspaces/kibana/x-pack/plugins/infra/public/apps/start_app.tsx"],"names":[],"mappings":"AAAA;;;;GAIG;;AAEH,OAAO,EAAE,QAAQ,IAAI,gBAAgB,EAAE,MAAM,UAAU,CAAC;AACxD,OAAO,EAAE,iBAAiB,EAAE,MAAM,SAAS,CAAC;AAC5C,OAAO,KAAK,MAAM,OAAO,CAAC;AAC1B,OAAO,EAAE,cAAc,EAAE,MAAM,cAAc,CAAC;AAC9C,OAAO,EAAE,QAAQ,IAAI,kBAAkB,EAAE,MAAM,aAAa,CAAC;AAC7D,OAAO,EAAE,eAAe,EAAE,MAAM,MAAM,CAAC;AACvC,OAAO,EAAE,KAAK,EAAE,MAAM,gBAAgB,CAAC;AACvC,OAAO,EAAE,aAAa,EAAE,MAAM,mBAAmB,CAAC;AAElD,iEAAiE;AACjE,OAAO,EAAE,gBAAgB,EAAE,MAAM,cAAc,CAAC;AAChD,OAAO,WAAW,MAAM,uCAAuC,CAAC;AAChE,OAAO,YAAY,MAAM,wCAAwC,CAAC;AAClE,OAAO,EAAE,WAAW,EAAE,MAAM,SAAS,CAAC;AAEtC,OAAO,EAAE,UAAU,EAAE,MAAM,WAAW,CAAC;AACvC,OAAO,EAAE,WAAW,EAAE,MAAM,UAAU,CAAC;AAEvC,MAAM,UAAgB,QAAQ,CAAC,IAAuB;;;;YAC9C,OAAO,GAAG,iBAAiB,EAAE,CAAC;YAE9B,KAAK,GAAG,IAAI,eAAe,CAAC,IAAI,CAAC,CAAC;YAClC,KAAK,GAAG,WAAW,CAAC;gBACxB,YAAY,EAAE,KAAK,CAAC,IAAI,CAAC,KAAK,CAAC,cAAc,CAAC,CAAC;gBAC/C,aAAa,EAAE,KAAK,CAAC,IAAI,CAAC,KAAK,CAAC,eAAe,CAAC,CAAC;aAClD,CAAC,CAAC;YAEH,IAAI,CAAC,SAAS,CAAC,MAAM,CACnB,oBAAC,WAAW;gBACV,oBAAC,gBAAgB;oBACf,oBAAC,gBAAgB,IAAC,QAAQ;wBACxB,oBAAC,kBAAkB,IAAC,KAAK,EAAE,KAAK;4BAC9B,oBAAC,cAAc,IAAC,MAAM,EAAE,IAAI,CAAC,YAAY;gCACvC,oBAAC,aAAa,IACZ,KAAK,EAAE,cAAM,OAAA,CAAC;wCACZ,GAAG,EAAE,IAAI,CAAC,SAAS,CAAC,QAAQ,CAAC,CAAC,CAAC,WAAW,CAAC,CAAC,CAAC,YAAY;wCACzD,QAAQ,EAAE,IAAI,CAAC,SAAS,CAAC,QAAQ;qCAClC,CAAC,EAHW,CAGX;oCAEF,oBAAC,UAAU,IAAC,OAAO,EAAE,OAAO,GAAI,CAClB,CACD,CACE,CACJ,CACF,CACP,CACf,CAAC;;;;CACH","sourcesContent":["/*\n * Copyright Elasticsearch B.V. and/or licensed to Elasticsearch B.V. under one\n * or more contributor license agreements. Licensed under the Elastic License;\n * you may not use this file except in compliance with the Elastic License.\n */\n\nimport { Provider as ConstateProvider } from 'constate';\nimport { createHashHistory } from 'history';\nimport React from 'react';\nimport { ApolloProvider } from 'react-apollo';\nimport { Provider as ReduxStoreProvider } from 'react-redux';\nimport { BehaviorSubject } from 'rxjs';\nimport { pluck } from 'rxjs/operators';\nimport { ThemeProvider } from 'styled-components';\n\n// TODO use theme provided from parentApp when kibana supports it\nimport { EuiErrorBoundary } from '@elastic/eui';\nimport euiDarkVars from '@elastic/eui/dist/eui_theme_dark.json';\nimport euiLightVars from '@elastic/eui/dist/eui_theme_light.json';\nimport { I18nContext } from 'ui/i18n';\nimport { InfraFrontendLibs } from '../lib/lib';\nimport { PageRouter } from '../routes';\nimport { createStore } from '../store';\n\nexport async function startApp(libs: InfraFrontendLibs) {\n  const history = createHashHistory();\n\n  const libs$ = new BehaviorSubject(libs);\n  const store = createStore({\n    apolloClient: libs$.pipe(pluck('apolloClient')),\n    observableApi: libs$.pipe(pluck('observableApi')),\n  });\n\n  libs.framework.render(\n    <I18nContext>\n      <EuiErrorBoundary>\n        <ConstateProvider devtools>\n          <ReduxStoreProvider store={store}>\n            <ApolloProvider client={libs.apolloClient}>\n              <ThemeProvider\n                theme={() => ({\n                  eui: libs.framework.darkMode ? euiDarkVars : euiLightVars,\n                  darkMode: libs.framework.darkMode,\n                })}\n              >\n                <PageRouter history={history} />\n              </ThemeProvider>\n            </ApolloProvider>\n          </ReduxStoreProvider>\n        </ConstateProvider>\n      </EuiErrorBoundary>\n    </I18nContext>\n  );\n}\n"]}]}