{"remainingRequest":"/home/anthony/git_workspaces/kibana/node_modules/thread-loader/dist/cjs.js??ref--10-1!/home/anthony/git_workspaces/kibana/node_modules/ts-loader/index.js??ref--10-2!/home/anthony/git_workspaces/kibana/x-pack/plugins/spaces/public/views/space_selector/space_selector.tsx","dependencies":[{"path":"/home/anthony/git_workspaces/kibana/x-pack/plugins/spaces/public/views/space_selector/space_selector.tsx","mtime":1567631712313},{"path":"/home/anthony/git_workspaces/kibana/node_modules/cache-loader/dist/cjs.js","mtime":1567666236302},{"path":"/home/anthony/git_workspaces/kibana/node_modules/thread-loader/dist/cjs.js","mtime":1567666239443},{"path":"/home/anthony/git_workspaces/kibana/node_modules/ts-loader/index.js","mtime":1567666229769}],"contextDependencies":[],"result":["/*\n * Copyright Elasticsearch B.V. and/or licensed to Elasticsearch B.V. under one\n * or more contributor license agreements. Licensed under the Elastic License;\n * you may not use this file except in compliance with the Elastic License.\n */\nimport * as tslib_1 from \"tslib\";\nimport { EuiFieldSearch, EuiFlexGroup, EuiFlexItem, EuiIcon, EuiPage, EuiPageBody, EuiPageContent, EuiPageHeader, EuiSpacer, EuiText, EuiTitle, } from '@elastic/eui';\nimport { FormattedMessage, injectI18n } from '@kbn/i18n/react';\nimport React, { Component, Fragment } from 'react';\nimport { SPACE_SEARCH_COUNT_THRESHOLD } from '../../../common/constants';\nimport { SpaceCards } from '../components/space_cards';\nvar SpaceSelectorUI = /** @class */ (function (_super) {\n    tslib_1.__extends(SpaceSelectorUI, _super);\n    function SpaceSelectorUI(props) {\n        var _this = _super.call(this, props) || this;\n        _this.setHeaderRef = function (ref) {\n            _this.headerRef = ref;\n            // forcing focus of header for screen readers to announce on page load\n            if (_this.headerRef) {\n                _this.headerRef.focus();\n            }\n        };\n        _this.getSearchField = function () {\n            var intl = _this.props.intl;\n            if (!_this.props.spaces || _this.props.spaces.length < SPACE_SEARCH_COUNT_THRESHOLD) {\n                return null;\n            }\n            return (React.createElement(EuiFlexItem, { className: \"spcSpaceSelector__searchHolder\" },\n                React.createElement(EuiFieldSearch, { className: \"spcSpaceSelector__searchField\", placeholder: intl.formatMessage({\n                        id: 'xpack.spaces.spaceSelector.findSpacePlaceholder',\n                        defaultMessage: 'Find a space',\n                    }), incremental: true, \n                    // @ts-ignore\n                    onSearch: _this.onSearch })));\n        };\n        _this.onSearch = function (searchTerm) {\n            if (searchTerm === void 0) { searchTerm = ''; }\n            _this.setState({\n                searchTerm: searchTerm.trim().toLowerCase(),\n            });\n        };\n        _this.onSelectSpace = function (space) {\n            _this.props.spacesManager.changeSelectedSpace(space);\n        };\n        var state = {\n            loading: false,\n            searchTerm: '',\n            spaces: [],\n        };\n        if (Array.isArray(props.spaces)) {\n            state.spaces = tslib_1.__spread(props.spaces);\n        }\n        _this.state = state;\n        return _this;\n    }\n    SpaceSelectorUI.prototype.componentDidMount = function () {\n        if (this.state.spaces.length === 0) {\n            this.loadSpaces();\n        }\n    };\n    SpaceSelectorUI.prototype.loadSpaces = function () {\n        var _this = this;\n        this.setState({ loading: true });\n        var spacesManager = this.props.spacesManager;\n        spacesManager.getSpaces().then(function (spaces) {\n            _this.setState({\n                loading: false,\n                spaces: spaces,\n            });\n        });\n    };\n    SpaceSelectorUI.prototype.render = function () {\n        var _a = this.state, spaces = _a.spaces, searchTerm = _a.searchTerm;\n        var filteredSpaces = spaces;\n        if (searchTerm) {\n            filteredSpaces = spaces.filter(function (space) {\n                return space.name.toLowerCase().indexOf(searchTerm) >= 0 ||\n                    (space.description || '').toLowerCase().indexOf(searchTerm) >= 0;\n            });\n        }\n        return (React.createElement(EuiPage, { className: \"spcSpaceSelector\", \"data-test-subj\": \"kibanaSpaceSelector\" },\n            React.createElement(EuiPageBody, null,\n                React.createElement(EuiPageHeader, { className: \"spcSpaceSelector__heading\" },\n                    React.createElement(EuiSpacer, { size: \"xxl\" }),\n                    React.createElement(\"span\", { className: \"spcSpaceSelector__logo\" },\n                        React.createElement(EuiIcon, { size: \"xxl\", type: \"logoKibana\" })),\n                    React.createElement(EuiTitle, { size: \"l\" },\n                        React.createElement(\"h1\", { tabIndex: 0, ref: this.setHeaderRef },\n                            React.createElement(FormattedMessage, { id: \"xpack.spaces.spaceSelector.selectSpacesTitle\", defaultMessage: \"Select your space\" }))),\n                    React.createElement(EuiText, { size: \"s\", color: \"subdued\" },\n                        React.createElement(\"p\", null,\n                            React.createElement(FormattedMessage, { id: \"xpack.spaces.spaceSelector.changeSpaceAnytimeAvailabilityText\", defaultMessage: \"You can change your space at anytime\" })))),\n                React.createElement(EuiPageContent, { className: \"spcSpaceSelector__pageContent\" },\n                    React.createElement(EuiFlexGroup\n                    // @ts-ignore\n                    , { \n                        // @ts-ignore\n                        direction: \"column\", alignItems: \"center\", responsive: false }, this.getSearchField()),\n                    React.createElement(EuiSpacer, { size: \"xl\" }),\n                    React.createElement(SpaceCards, { spaces: filteredSpaces, onSpaceSelect: this.onSelectSpace }),\n                    filteredSpaces.length === 0 && (React.createElement(Fragment, null,\n                        React.createElement(EuiSpacer, null),\n                        React.createElement(EuiText, { color: \"subdued\", \n                            // @ts-ignore\n                            textAlign: \"center\" },\n                            React.createElement(FormattedMessage, { id: \"xpack.spaces.spaceSelector.noSpacesMatchSearchCriteriaDescription\", defaultMessage: \"No spaces match search criteria\" }))))))));\n    };\n    return SpaceSelectorUI;\n}(Component));\nexport var SpaceSelector = injectI18n(SpaceSelectorUI);\n",{"version":3,"file":"/home/anthony/git_workspaces/kibana/x-pack/plugins/spaces/public/views/space_selector/space_selector.tsx","sourceRoot":"","sources":["/home/anthony/git_workspaces/kibana/x-pack/plugins/spaces/public/views/space_selector/space_selector.tsx"],"names":[],"mappings":"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","sourcesContent":["/*\n * Copyright Elasticsearch B.V. and/or licensed to Elasticsearch B.V. under one\n * or more contributor license agreements. Licensed under the Elastic License;\n * you may not use this file except in compliance with the Elastic License.\n */\n\nimport {\n  EuiFieldSearch,\n  EuiFlexGroup,\n  EuiFlexItem,\n  EuiIcon,\n  EuiPage,\n  EuiPageBody,\n  EuiPageContent,\n  EuiPageHeader,\n  EuiSpacer,\n  EuiText,\n  EuiTitle,\n} from '@elastic/eui';\nimport { FormattedMessage, InjectedIntl, injectI18n } from '@kbn/i18n/react';\nimport { SpacesManager } from 'plugins/spaces/lib';\nimport React, { Component, Fragment } from 'react';\nimport { SPACE_SEARCH_COUNT_THRESHOLD } from '../../../common/constants';\nimport { Space } from '../../../common/model/space';\nimport { SpaceCards } from '../components/space_cards';\n\ninterface Props {\n  spaces?: Space[];\n  spacesManager: SpacesManager;\n  intl: InjectedIntl;\n}\n\ninterface State {\n  loading: boolean;\n  searchTerm: string;\n  spaces: Space[];\n}\n\nclass SpaceSelectorUI extends Component<Props, State> {\n  private headerRef?: HTMLElement | null;\n  constructor(props: Props) {\n    super(props);\n\n    const state: State = {\n      loading: false,\n      searchTerm: '',\n      spaces: [],\n    };\n\n    if (Array.isArray(props.spaces)) {\n      state.spaces = [...props.spaces];\n    }\n\n    this.state = state;\n  }\n\n  public setHeaderRef = (ref: HTMLElement | null) => {\n    this.headerRef = ref;\n    // forcing focus of header for screen readers to announce on page load\n    if (this.headerRef) {\n      this.headerRef.focus();\n    }\n  };\n\n  public componentDidMount() {\n    if (this.state.spaces.length === 0) {\n      this.loadSpaces();\n    }\n  }\n\n  public loadSpaces() {\n    this.setState({ loading: true });\n    const { spacesManager } = this.props;\n\n    spacesManager.getSpaces().then(spaces => {\n      this.setState({\n        loading: false,\n        spaces,\n      });\n    });\n  }\n\n  public render() {\n    const { spaces, searchTerm } = this.state;\n\n    let filteredSpaces = spaces;\n    if (searchTerm) {\n      filteredSpaces = spaces.filter(\n        space =>\n          space.name.toLowerCase().indexOf(searchTerm) >= 0 ||\n          (space.description || '').toLowerCase().indexOf(searchTerm) >= 0\n      );\n    }\n\n    return (\n      <EuiPage className=\"spcSpaceSelector\" data-test-subj=\"kibanaSpaceSelector\">\n        <EuiPageBody>\n          <EuiPageHeader className=\"spcSpaceSelector__heading\">\n            <EuiSpacer size=\"xxl\" />\n            <span className=\"spcSpaceSelector__logo\">\n              <EuiIcon size=\"xxl\" type={`logoKibana`} />\n            </span>\n\n            <EuiTitle size=\"l\">\n              <h1 tabIndex={0} ref={this.setHeaderRef}>\n                <FormattedMessage\n                  id=\"xpack.spaces.spaceSelector.selectSpacesTitle\"\n                  defaultMessage=\"Select your space\"\n                />\n              </h1>\n            </EuiTitle>\n            <EuiText size=\"s\" color=\"subdued\">\n              <p>\n                <FormattedMessage\n                  id=\"xpack.spaces.spaceSelector.changeSpaceAnytimeAvailabilityText\"\n                  defaultMessage=\"You can change your space at anytime\"\n                />\n              </p>\n            </EuiText>\n          </EuiPageHeader>\n          <EuiPageContent className=\"spcSpaceSelector__pageContent\">\n            <EuiFlexGroup\n              // @ts-ignore\n              direction=\"column\"\n              alignItems=\"center\"\n              responsive={false}\n            >\n              {this.getSearchField()}\n            </EuiFlexGroup>\n\n            <EuiSpacer size=\"xl\" />\n\n            <SpaceCards spaces={filteredSpaces} onSpaceSelect={this.onSelectSpace} />\n\n            {filteredSpaces.length === 0 && (\n              <Fragment>\n                <EuiSpacer />\n                <EuiText\n                  color=\"subdued\"\n                  // @ts-ignore\n                  textAlign=\"center\"\n                >\n                  <FormattedMessage\n                    id=\"xpack.spaces.spaceSelector.noSpacesMatchSearchCriteriaDescription\"\n                    defaultMessage=\"No spaces match search criteria\"\n                  />\n                </EuiText>\n              </Fragment>\n            )}\n          </EuiPageContent>\n        </EuiPageBody>\n      </EuiPage>\n    );\n  }\n\n  public getSearchField = () => {\n    const { intl } = this.props;\n    if (!this.props.spaces || this.props.spaces.length < SPACE_SEARCH_COUNT_THRESHOLD) {\n      return null;\n    }\n    return (\n      <EuiFlexItem className=\"spcSpaceSelector__searchHolder\">\n        <EuiFieldSearch\n          className=\"spcSpaceSelector__searchField\"\n          placeholder={intl.formatMessage({\n            id: 'xpack.spaces.spaceSelector.findSpacePlaceholder',\n            defaultMessage: 'Find a space',\n          })}\n          incremental={true}\n          // @ts-ignore\n          onSearch={this.onSearch}\n        />\n      </EuiFlexItem>\n    );\n  };\n\n  public onSearch = (searchTerm = '') => {\n    this.setState({\n      searchTerm: searchTerm.trim().toLowerCase(),\n    });\n  };\n\n  public onSelectSpace = (space: Space) => {\n    this.props.spacesManager.changeSelectedSpace(space);\n  };\n}\n\nexport const SpaceSelector = injectI18n(SpaceSelectorUI);\n"]}]}