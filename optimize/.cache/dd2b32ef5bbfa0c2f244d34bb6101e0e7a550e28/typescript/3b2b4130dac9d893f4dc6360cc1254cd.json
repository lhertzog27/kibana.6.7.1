{"remainingRequest":"/home/anthony/git_workspaces/kibana/node_modules/thread-loader/dist/cjs.js??ref--10-1!/home/anthony/git_workspaces/kibana/node_modules/ts-loader/index.js??ref--10-2!/home/anthony/git_workspaces/kibana/x-pack/plugins/infra/public/components/metrics/sections/gauges_section.tsx","dependencies":[{"path":"/home/anthony/git_workspaces/kibana/x-pack/plugins/infra/public/components/metrics/sections/gauges_section.tsx","mtime":1567631711981},{"path":"/home/anthony/git_workspaces/kibana/node_modules/cache-loader/dist/cjs.js","mtime":1567666236302},{"path":"/home/anthony/git_workspaces/kibana/node_modules/thread-loader/dist/cjs.js","mtime":1567666239443},{"path":"/home/anthony/git_workspaces/kibana/node_modules/ts-loader/index.js","mtime":1567666229769}],"contextDependencies":[],"result":["/*\n * Copyright Elasticsearch B.V. and/or licensed to Elasticsearch B.V. under one\n * or more contributor license agreements. Licensed under the Elastic License;\n * you may not use this file except in compliance with the Elastic License.\n */\nimport * as tslib_1 from \"tslib\";\nimport { EuiFlexItem, EuiPageContentBody, EuiPanel, EuiProgress, EuiSpacer, EuiText, EuiTitle, } from '@elastic/eui';\nimport { get, last, max } from 'lodash';\nimport React from 'react';\nimport styled from 'styled-components';\nimport { InfraFormatterType } from '../../../lib/lib';\nimport { createFormatter } from '../../../utils/formatters';\nvar getFormatter = function (section, seriesId) { return function (val) {\n    if (val == null) {\n        return '';\n    }\n    var defaultFormatter = get(section, ['visConfig', 'formatter'], InfraFormatterType.number);\n    var defaultFormatterTemplate = get(section, ['visConfig', 'formatterTemplate'], '{{value}}');\n    var formatter = get(section, ['visConfig', 'seriesOverrides', seriesId, 'formatter'], defaultFormatter);\n    var formatterTemplate = get(section, ['visConfig', 'seriesOverrides', seriesId, 'formatterTemplate'], defaultFormatterTemplate);\n    return createFormatter(formatter, formatterTemplate)(val);\n}; };\nvar GaugesSection = /** @class */ (function (_super) {\n    tslib_1.__extends(GaugesSection, _super);\n    function GaugesSection() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    GaugesSection.prototype.render = function () {\n        var _a = this.props, metric = _a.metric, section = _a.section;\n        return (React.createElement(EuiPageContentBody, null,\n            React.createElement(EuiSpacer, { size: \"m\" }),\n            React.createElement(GroupBox, null, metric.series.map(function (series) {\n                var lastDataPoint = last(series.data);\n                if (!lastDataPoint) {\n                    return null;\n                }\n                var formatter = getFormatter(section, series.id);\n                var value = formatter(lastDataPoint.value || 0);\n                var name = get(section, ['visConfig', 'seriesOverrides', series.id, 'name'], series.id);\n                var dataMax = max(series.data.map(function (d) { return d.value || 0; }));\n                var gaugeMax = get(section, ['visConfig', 'seriesOverrides', series.id, 'gaugeMax'], dataMax);\n                return (React.createElement(EuiFlexItem, { key: section.id + \"-\" + series.id, style: { margin: '0.4rem' } },\n                    React.createElement(EuiPanel, { style: { minWidth: '160px' } },\n                        React.createElement(EuiText, { style: { textAlign: 'right' }, size: \"s\" }, name),\n                        React.createElement(EuiTitle, { size: \"s\" },\n                            React.createElement(\"h1\", { style: { textAlign: 'right', whiteSpace: 'nowrap' } }, value)),\n                        React.createElement(EuiProgress, { value: lastDataPoint.value || 0, max: gaugeMax, size: \"s\", color: \"primary\" }))));\n            })),\n            React.createElement(EuiSpacer, { size: \"m\" })));\n    };\n    return GaugesSection;\n}(React.PureComponent));\nexport { GaugesSection };\nvar GroupBox = styled.div(templateObject_1 || (templateObject_1 = tslib_1.__makeTemplateObject([\"\\n  display: flex;\\n  flex-flow: row wrap;\\n  justify-content: space-evenly;\\n\"], [\"\\n  display: flex;\\n  flex-flow: row wrap;\\n  justify-content: space-evenly;\\n\"])));\nvar templateObject_1;\n",{"version":3,"file":"/home/anthony/git_workspaces/kibana/x-pack/plugins/infra/public/components/metrics/sections/gauges_section.tsx","sourceRoot":"","sources":["/home/anthony/git_workspaces/kibana/x-pack/plugins/infra/public/components/metrics/sections/gauges_section.tsx"],"names":[],"mappings":"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","sourcesContent":["/*\n * Copyright Elasticsearch B.V. and/or licensed to Elasticsearch B.V. under one\n * or more contributor license agreements. Licensed under the Elastic License;\n * you may not use this file except in compliance with the Elastic License.\n */\n\nimport {\n  EuiFlexItem,\n  EuiPageContentBody,\n  EuiPanel,\n  EuiProgress,\n  EuiSpacer,\n  EuiText,\n  EuiTitle,\n} from '@elastic/eui';\nimport { get, last, max } from 'lodash';\nimport React, { ReactText } from 'react';\nimport styled from 'styled-components';\nimport { InfraMetricData } from '../../../graphql/types';\nimport { InfraFormatterType } from '../../../lib/lib';\nimport { InfraMetricLayoutSection } from '../../../pages/metrics/layouts/types';\nimport { createFormatter } from '../../../utils/formatters';\n\ninterface Props {\n  section: InfraMetricLayoutSection;\n  metric: InfraMetricData;\n}\n\nconst getFormatter = (section: InfraMetricLayoutSection, seriesId: string) => (val: ReactText) => {\n  if (val == null) {\n    return '';\n  }\n  const defaultFormatter = get(section, ['visConfig', 'formatter'], InfraFormatterType.number);\n  const defaultFormatterTemplate = get(section, ['visConfig', 'formatterTemplate'], '{{value}}');\n  const formatter = get(\n    section,\n    ['visConfig', 'seriesOverrides', seriesId, 'formatter'],\n    defaultFormatter\n  );\n  const formatterTemplate = get(\n    section,\n    ['visConfig', 'seriesOverrides', seriesId, 'formatterTemplate'],\n    defaultFormatterTemplate\n  );\n  return createFormatter(formatter, formatterTemplate)(val);\n};\n\nexport class GaugesSection extends React.PureComponent<Props> {\n  public render() {\n    const { metric, section } = this.props;\n    return (\n      <EuiPageContentBody>\n        <EuiSpacer size=\"m\" />\n        <GroupBox>\n          {metric.series.map(series => {\n            const lastDataPoint = last(series.data);\n            if (!lastDataPoint) {\n              return null;\n            }\n            const formatter = getFormatter(section, series.id);\n            const value = formatter(lastDataPoint.value || 0);\n            const name = get(\n              section,\n              ['visConfig', 'seriesOverrides', series.id, 'name'],\n              series.id\n            );\n            const dataMax = max(series.data.map(d => d.value || 0));\n            const gaugeMax = get(\n              section,\n              ['visConfig', 'seriesOverrides', series.id, 'gaugeMax'],\n              dataMax\n            );\n            return (\n              <EuiFlexItem key={`${section.id}-${series.id}`} style={{ margin: '0.4rem' }}>\n                <EuiPanel style={{ minWidth: '160px' }}>\n                  <EuiText style={{ textAlign: 'right' }} size=\"s\">\n                    {name}\n                  </EuiText>\n                  <EuiTitle size=\"s\">\n                    <h1 style={{ textAlign: 'right', whiteSpace: 'nowrap' }}>{value}</h1>\n                  </EuiTitle>\n                  <EuiProgress\n                    value={lastDataPoint.value || 0}\n                    max={gaugeMax}\n                    size=\"s\"\n                    color=\"primary\"\n                  />\n                </EuiPanel>\n              </EuiFlexItem>\n            );\n          })}\n        </GroupBox>\n        <EuiSpacer size=\"m\" />\n      </EuiPageContentBody>\n    );\n  }\n}\n\nconst GroupBox = styled.div`\n  display: flex;\n  flex-flow: row wrap;\n  justify-content: space-evenly;\n`;\n"]}]}