{"remainingRequest":"/home/anthony/git_workspaces/kibana/node_modules/thread-loader/dist/cjs.js??ref--10-1!/home/anthony/git_workspaces/kibana/node_modules/ts-loader/index.js??ref--10-2!/home/anthony/git_workspaces/kibana/x-pack/plugins/beats_management/public/pages/walkthrough/initial/finish.tsx","dependencies":[{"path":"/home/anthony/git_workspaces/kibana/x-pack/plugins/beats_management/public/pages/walkthrough/initial/finish.tsx","mtime":1567631711884},{"path":"/home/anthony/git_workspaces/kibana/node_modules/cache-loader/dist/cjs.js","mtime":1567666236302},{"path":"/home/anthony/git_workspaces/kibana/node_modules/thread-loader/dist/cjs.js","mtime":1567666239443},{"path":"/home/anthony/git_workspaces/kibana/node_modules/ts-loader/index.js","mtime":1567666229769}],"contextDependencies":[],"result":["import * as tslib_1 from \"tslib\";\n/*\n * Copyright Elasticsearch B.V. and/or licensed to Elasticsearch B.V. under one\n * or more contributor license agreements. Licensed under the Elastic License;\n * you may not use this file except in compliance with the Elastic License.\n */\nimport { EuiButton, EuiEmptyPrompt, EuiFlexGroup, EuiFlexItem, EuiPageContent } from '@elastic/eui';\nimport { FormattedMessage, injectI18n } from '@kbn/i18n/react';\nimport React from 'react';\nvar FinishWalkthrough = /** @class */ (function (_super) {\n    tslib_1.__extends(FinishWalkthrough, _super);\n    function FinishWalkthrough(props) {\n        var _this = _super.call(this, props) || this;\n        _this.assignTagToBeat = function () { return tslib_1.__awaiter(_this, void 0, void 0, function () {\n            var intl, beat;\n            return tslib_1.__generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        intl = this.props.intl;\n                        if (!this.props.urlState.enrollmentToken) {\n                            return [2 /*return*/, alert(intl.formatMessage({\n                                    id: 'xpack.beatsManagement.enrollBeat.assignTagToBeatInvalidURLNoTokenFountTitle',\n                                    defaultMessage: 'Invalid URL, no enrollmentToken found',\n                                }))];\n                        }\n                        if (!this.props.urlState.createdTag) {\n                            return [2 /*return*/, alert(intl.formatMessage({\n                                    id: 'xpack.beatsManagement.enrollBeat.assignTagToBeatInvalidURLNoTagFoundTitle',\n                                    defaultMessage: 'Invalid URL, no createdTag found',\n                                }))];\n                        }\n                        return [4 /*yield*/, this.props.libs.beats.getBeatWithToken(this.props.urlState.enrollmentToken)];\n                    case 1:\n                        beat = _a.sent();\n                        if (!beat) {\n                            return [2 /*return*/, alert(intl.formatMessage({\n                                    id: 'xpack.beatsManagement.enrollBeat.assignTagToBeatNotEnrolledProperlyTitle',\n                                    defaultMessage: 'Error: Beat not enrolled properly',\n                                }))];\n                        }\n                        return [4 /*yield*/, this.props.containers.beats.assignTagsToBeats([beat], this.props.urlState.createdTag)];\n                    case 2:\n                        _a.sent();\n                        this.props.setUrlState({\n                            createdTag: '',\n                            enrollmentToken: '',\n                        });\n                        return [2 /*return*/, true];\n                }\n            });\n        }); };\n        _this.state = {\n            assigned: false,\n        };\n        return _this;\n    }\n    FinishWalkthrough.prototype.componentDidMount = function () {\n        var _this = this;\n        setTimeout(function () { return tslib_1.__awaiter(_this, void 0, void 0, function () {\n            var done;\n            return tslib_1.__generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0: return [4 /*yield*/, this.assignTagToBeat()];\n                    case 1:\n                        done = _a.sent();\n                        if (done) {\n                            this.setState({\n                                assigned: true,\n                            });\n                        }\n                        return [2 /*return*/];\n                }\n            });\n        }); }, 300);\n    };\n    FinishWalkthrough.prototype.render = function () {\n        var _this = this;\n        var goTo = this.props.goTo;\n        return (React.createElement(EuiFlexGroup, { justifyContent: \"spaceAround\" },\n            React.createElement(EuiFlexItem, { grow: false },\n                React.createElement(EuiPageContent, null,\n                    React.createElement(EuiEmptyPrompt, { iconType: \"logoBeats\", title: React.createElement(\"h2\", null,\n                            React.createElement(FormattedMessage, { id: \"xpack.beatsManagement.enrollBeat.nextStepTitle\", defaultMessage: \"Your Beat is enrolled. What's next?\" })), body: React.createElement(React.Fragment, null,\n                            React.createElement(\"p\", null,\n                                React.createElement(FormattedMessage, { id: \"xpack.beatsManagement.enrollBeat.nextStepDescription\", defaultMessage: \"Start your Beat to check for configuration errors, then click Done.\" }))), actions: React.createElement(EuiButton, { fill: true, disabled: !this.state.assigned, onClick: function () { return tslib_1.__awaiter(_this, void 0, void 0, function () {\n                                return tslib_1.__generator(this, function (_a) {\n                                    goTo('/overview/enrolled_beats');\n                                    return [2 /*return*/];\n                                });\n                            }); } },\n                            React.createElement(FormattedMessage, { id: \"xpack.beatsManagement.enrollBeat.firstBeatEnrollingDoneButtonLabel\", defaultMessage: \"Done\" })) })))));\n    };\n    return FinishWalkthrough;\n}(React.Component));\nexport var FinishWalkthroughPage = injectI18n(FinishWalkthrough);\n",{"version":3,"file":"/home/anthony/git_workspaces/kibana/x-pack/plugins/beats_management/public/pages/walkthrough/initial/finish.tsx","sourceRoot":"","sources":["/home/anthony/git_workspaces/kibana/x-pack/plugins/beats_management/public/pages/walkthrough/initial/finish.tsx"],"names":[],"mappings":"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","sourcesContent":["/*\n * Copyright Elasticsearch B.V. and/or licensed to Elasticsearch B.V. under one\n * or more contributor license agreements. Licensed under the Elastic License;\n * you may not use this file except in compliance with the Elastic License.\n */\nimport { EuiButton, EuiEmptyPrompt, EuiFlexGroup, EuiFlexItem, EuiPageContent } from '@elastic/eui';\nimport { FormattedMessage, InjectedIntl, injectI18n } from '@kbn/i18n/react';\nimport React from 'react';\nimport { CMBeat } from '../../../../common/domain_types';\nimport { AppPageProps } from '../../../frontend_types';\n\ninterface PageState {\n  assigned: boolean;\n}\nclass FinishWalkthrough extends React.Component<\n  AppPageProps & {\n    intl: InjectedIntl;\n  },\n  PageState\n> {\n  constructor(\n    props: AppPageProps & {\n      intl: InjectedIntl;\n    }\n  ) {\n    super(props);\n\n    this.state = {\n      assigned: false,\n    };\n  }\n\n  public componentDidMount() {\n    setTimeout(async () => {\n      const done = await this.assignTagToBeat();\n\n      if (done) {\n        this.setState({\n          assigned: true,\n        });\n      }\n    }, 300);\n  }\n\n  public render() {\n    const { goTo } = this.props;\n\n    return (\n      <EuiFlexGroup justifyContent=\"spaceAround\">\n        <EuiFlexItem grow={false}>\n          <EuiPageContent>\n            <EuiEmptyPrompt\n              iconType=\"logoBeats\"\n              title={\n                <h2>\n                  <FormattedMessage\n                    id=\"xpack.beatsManagement.enrollBeat.nextStepTitle\"\n                    defaultMessage=\"Your Beat is enrolled. What's next?\"\n                  />\n                </h2>\n              }\n              body={\n                <React.Fragment>\n                  <p>\n                    <FormattedMessage\n                      id=\"xpack.beatsManagement.enrollBeat.nextStepDescription\"\n                      defaultMessage=\"Start your Beat to check for configuration errors, then click Done.\"\n                    />\n                  </p>\n                </React.Fragment>\n              }\n              actions={\n                <EuiButton\n                  fill\n                  disabled={!this.state.assigned}\n                  onClick={async () => {\n                    goTo('/overview/enrolled_beats');\n                  }}\n                >\n                  <FormattedMessage\n                    id=\"xpack.beatsManagement.enrollBeat.firstBeatEnrollingDoneButtonLabel\"\n                    defaultMessage=\"Done\"\n                  />\n                </EuiButton>\n              }\n            />\n          </EuiPageContent>\n        </EuiFlexItem>\n      </EuiFlexGroup>\n    );\n  }\n\n  private assignTagToBeat = async () => {\n    const { intl } = this.props;\n    if (!this.props.urlState.enrollmentToken) {\n      return alert(\n        intl.formatMessage({\n          id: 'xpack.beatsManagement.enrollBeat.assignTagToBeatInvalidURLNoTokenFountTitle',\n          defaultMessage: 'Invalid URL, no enrollmentToken found',\n        })\n      );\n    }\n    if (!this.props.urlState.createdTag) {\n      return alert(\n        intl.formatMessage({\n          id: 'xpack.beatsManagement.enrollBeat.assignTagToBeatInvalidURLNoTagFoundTitle',\n          defaultMessage: 'Invalid URL, no createdTag found',\n        })\n      );\n    }\n\n    const beat = await this.props.libs.beats.getBeatWithToken(this.props.urlState.enrollmentToken);\n    if (!beat) {\n      return alert(\n        intl.formatMessage({\n          id: 'xpack.beatsManagement.enrollBeat.assignTagToBeatNotEnrolledProperlyTitle',\n          defaultMessage: 'Error: Beat not enrolled properly',\n        })\n      );\n    }\n\n    await this.props.containers.beats.assignTagsToBeats(\n      [beat as CMBeat],\n      this.props.urlState.createdTag\n    );\n    this.props.setUrlState({\n      createdTag: '',\n      enrollmentToken: '',\n    });\n    return true;\n  };\n}\n\nexport const FinishWalkthroughPage = injectI18n(FinishWalkthrough);\n"]}]}