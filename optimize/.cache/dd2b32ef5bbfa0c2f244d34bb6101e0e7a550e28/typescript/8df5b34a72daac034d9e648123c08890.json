{"remainingRequest":"/home/anthony/git_workspaces/kibana/node_modules/thread-loader/dist/cjs.js??ref--10-1!/home/anthony/git_workspaces/kibana/node_modules/ts-loader/index.js??ref--10-2!/home/anthony/git_workspaces/kibana/x-pack/plugins/infra/public/components/waffle/gradient_legend.tsx","dependencies":[{"path":"/home/anthony/git_workspaces/kibana/x-pack/plugins/infra/public/components/waffle/gradient_legend.tsx","mtime":1567631711982},{"path":"/home/anthony/git_workspaces/kibana/node_modules/cache-loader/dist/cjs.js","mtime":1567666236302},{"path":"/home/anthony/git_workspaces/kibana/node_modules/thread-loader/dist/cjs.js","mtime":1567666239443},{"path":"/home/anthony/git_workspaces/kibana/node_modules/ts-loader/index.js","mtime":1567666229769}],"contextDependencies":[],"result":["/*\n * Copyright Elasticsearch B.V. and/or licensed to Elasticsearch B.V. under one\n * or more contributor license agreements. Licensed under the Elastic License;\n * you may not use this file except in compliance with the Elastic License.\n */\nimport * as tslib_1 from \"tslib\";\nimport React from 'react';\nimport styled from 'styled-components';\nvar createTickRender = function (bounds, formatter) { return function (rule, index) {\n    var value = rule.value === 0 ? bounds.min : bounds.max * rule.value;\n    var style = { left: rule.value * 100 + \"%\" };\n    var label = formatter(value);\n    return (React.createElement(GradientLegendTick, { style: style, key: \"legend-rule-\" + index },\n        React.createElement(GradientLegendTickLine, null),\n        React.createElement(GradientLegendTickLabel, null, label)));\n}; };\nexport var GradientLegend = function (_a) {\n    var legend = _a.legend, bounds = _a.bounds, formatter = _a.formatter;\n    var maxValue = legend.rules.reduce(function (acc, rule) {\n        return acc < rule.value ? rule.value : acc;\n    }, 0);\n    var colorStops = legend.rules.map(function (rule) {\n        var percent = (rule.value / maxValue) * 100;\n        return rule.color + \" \" + percent + \"%\";\n    });\n    var style = {\n        background: \"linear-gradient(to right, \" + colorStops + \")\",\n    };\n    return (React.createElement(GradientLegendContainer, { style: style }, legend.rules.map(createTickRender(bounds, formatter))));\n};\nvar GradientLegendContainer = styled.div(templateObject_1 || (templateObject_1 = tslib_1.__makeTemplateObject([\"\\n  position: absolute;\\n  height: 10px;\\n  bottom: 0;\\n  left: 0;\\n  right: 0;\\n\"], [\"\\n  position: absolute;\\n  height: 10px;\\n  bottom: 0;\\n  left: 0;\\n  right: 0;\\n\"])));\nvar GradientLegendTick = styled.div(templateObject_2 || (templateObject_2 = tslib_1.__makeTemplateObject([\"\\n  position: absolute;\\n  bottom: 0;\\n  top: -18px;\\n\"], [\"\\n  position: absolute;\\n  bottom: 0;\\n  top: -18px;\\n\"])));\nvar GradientLegendTickLine = styled.div(templateObject_3 || (templateObject_3 = tslib_1.__makeTemplateObject([\"\\n  position: absolute;\\n  background-color: \", \";\\n  width: 1px;\\n  left: 0;\\n  top: 15px;\\n  bottom: 0;\\n  \", \":first-child {\\n    top: 2px;\\n  }\\n  \", \":last-child {\\n    top: 2px;\\n  }\\n\"], [\"\\n  position: absolute;\\n  background-color: \", \";\\n  width: 1px;\\n  left: 0;\\n  top: 15px;\\n  bottom: 0;\\n  \", \":first-child {\\n    top: 2px;\\n  }\\n  \", \":last-child {\\n    top: 2px;\\n  }\\n\"])), function (props) { return props.theme.eui.euiBorderColor; }, GradientLegendTick, GradientLegendTick);\nvar GradientLegendTickLabel = styled.div(templateObject_4 || (templateObject_4 = tslib_1.__makeTemplateObject([\"\\n  position: absolute;\\n  font-size: 11px;\\n  text-align: center;\\n  top: 0;\\n  left: 0;\\n  white-space: nowrap;\\n  transform: translate(-50%, 0);\\n  \", \":first-child & {\\n    padding-left: 5px;\\n    transform: translate(0, 0);\\n  }\\n  \", \":last-child & {\\n    padding-right: 5px;\\n    transform: translate(-100%, 0);\\n  }\\n\"], [\"\\n  position: absolute;\\n  font-size: 11px;\\n  text-align: center;\\n  top: 0;\\n  left: 0;\\n  white-space: nowrap;\\n  transform: translate(-50%, 0);\\n  \", \":first-child & {\\n    padding-left: 5px;\\n    transform: translate(0, 0);\\n  }\\n  \", \":last-child & {\\n    padding-right: 5px;\\n    transform: translate(-100%, 0);\\n  }\\n\"])), GradientLegendTick, GradientLegendTick);\nvar templateObject_1, templateObject_2, templateObject_3, templateObject_4;\n",{"version":3,"file":"/home/anthony/git_workspaces/kibana/x-pack/plugins/infra/public/components/waffle/gradient_legend.tsx","sourceRoot":"","sources":["/home/anthony/git_workspaces/kibana/x-pack/plugins/infra/public/components/waffle/gradient_legend.tsx"],"names":[],"mappings":"AAAA;;;;GAIG;;AAEH,OAAO,KAAK,MAAM,OAAO,CAAC;AAC1B,OAAO,MAAM,MAAM,mBAAmB,CAAC;AAcvC,IAAM,gBAAgB,GAAG,UAAC,MAA4B,EAAE,SAAyB,IAAK,OAAA,UACpF,IAAgC,EAChC,KAAa;IAEb,IAAM,KAAK,GAAG,IAAI,CAAC,KAAK,KAAK,CAAC,CAAC,CAAC,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,CAAC,MAAM,CAAC,GAAG,GAAG,IAAI,CAAC,KAAK,CAAC;IACtE,IAAM,KAAK,GAAG,EAAE,IAAI,EAAK,IAAI,CAAC,KAAK,GAAG,GAAG,MAAG,EAAE,CAAC;IAC/C,IAAM,KAAK,GAAG,SAAS,CAAC,KAAK,CAAC,CAAC;IAC/B,OAAO,CACL,oBAAC,kBAAkB,IAAC,KAAK,EAAE,KAAK,EAAE,GAAG,EAAE,iBAAe,KAAO;QAC3D,oBAAC,sBAAsB,OAAG;QAC1B,oBAAC,uBAAuB,QAAE,KAAK,CAA2B,CACvC,CACtB,CAAC;AACJ,CAAC,EAbqF,CAarF,CAAC;AAEF,MAAM,CAAC,IAAM,cAAc,GAAqB,UAAC,EAA6B;QAA3B,kBAAM,EAAE,kBAAM,EAAE,wBAAS;IAC1E,IAAM,QAAQ,GAAG,MAAM,CAAC,KAAK,CAAC,MAAM,CAAC,UAAC,GAAG,EAAE,IAAI;QAC7C,OAAO,GAAG,GAAG,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,GAAG,CAAC;IAC7C,CAAC,EAAE,CAAC,CAAC,CAAC;IACN,IAAM,UAAU,GAAG,MAAM,CAAC,KAAK,CAAC,GAAG,CAAC,UAAA,IAAI;QACtC,IAAM,OAAO,GAAG,CAAC,IAAI,CAAC,KAAK,GAAG,QAAQ,CAAC,GAAG,GAAG,CAAC;QAC9C,OAAU,IAAI,CAAC,KAAK,SAAI,OAAO,MAAG,CAAC;IACrC,CAAC,CAAC,CAAC;IACH,IAAM,KAAK,GAAG;QACZ,UAAU,EAAE,+BAA6B,UAAU,MAAG;KACvD,CAAC;IACF,OAAO,CACL,oBAAC,uBAAuB,IAAC,KAAK,EAAE,KAAK,IAClC,MAAM,CAAC,KAAK,CAAC,GAAG,CAAC,gBAAgB,CAAC,MAAM,EAAE,SAAS,CAAC,CAAC,CAC9B,CAC3B,CAAC;AACJ,CAAC,CAAC;AAEF,IAAM,uBAAuB,GAAG,MAAM,CAAC,GAAG,8JAAA,mFAMzC,IAAA,CAAC;AAEF,IAAM,kBAAkB,GAAG,MAAM,CAAC,GAAG,mIAAA,wDAIpC,IAAA,CAAC;AAEF,IAAM,sBAAsB,GAAG,MAAM,CAAC,GAAG,2QAAA,+CAEnB,EAAuC,8DAKzD,EAAkB,wCAGlB,EAAkB,qCAGrB,KAXqB,UAAA,KAAK,IAAI,OAAA,KAAK,CAAC,KAAK,CAAC,GAAG,CAAC,cAAc,EAA9B,CAA8B,EAKzD,kBAAkB,EAGlB,kBAAkB,CAGrB,CAAC;AAEF,IAAM,uBAAuB,GAAG,MAAM,CAAC,GAAG,kZAAA,yJAQtC,EAAkB,oFAIlB,EAAkB,sFAIrB,KARG,kBAAkB,EAIlB,kBAAkB,CAIrB,CAAC","sourcesContent":["/*\n * Copyright Elasticsearch B.V. and/or licensed to Elasticsearch B.V. under one\n * or more contributor license agreements. Licensed under the Elastic License;\n * you may not use this file except in compliance with the Elastic License.\n */\n\nimport React from 'react';\nimport styled from 'styled-components';\nimport {\n  InfraFormatter,\n  InfraWaffleMapBounds,\n  InfraWaffleMapGradientLegend,\n  InfraWaffleMapGradientRule,\n} from '../../lib/lib';\n\ninterface Props {\n  legend: InfraWaffleMapGradientLegend;\n  bounds: InfraWaffleMapBounds;\n  formatter: InfraFormatter;\n}\n\nconst createTickRender = (bounds: InfraWaffleMapBounds, formatter: InfraFormatter) => (\n  rule: InfraWaffleMapGradientRule,\n  index: number\n) => {\n  const value = rule.value === 0 ? bounds.min : bounds.max * rule.value;\n  const style = { left: `${rule.value * 100}%` };\n  const label = formatter(value);\n  return (\n    <GradientLegendTick style={style} key={`legend-rule-${index}`}>\n      <GradientLegendTickLine />\n      <GradientLegendTickLabel>{label}</GradientLegendTickLabel>\n    </GradientLegendTick>\n  );\n};\n\nexport const GradientLegend: React.SFC<Props> = ({ legend, bounds, formatter }) => {\n  const maxValue = legend.rules.reduce((acc, rule) => {\n    return acc < rule.value ? rule.value : acc;\n  }, 0);\n  const colorStops = legend.rules.map(rule => {\n    const percent = (rule.value / maxValue) * 100;\n    return `${rule.color} ${percent}%`;\n  });\n  const style = {\n    background: `linear-gradient(to right, ${colorStops})`,\n  };\n  return (\n    <GradientLegendContainer style={style}>\n      {legend.rules.map(createTickRender(bounds, formatter))}\n    </GradientLegendContainer>\n  );\n};\n\nconst GradientLegendContainer = styled.div`\n  position: absolute;\n  height: 10px;\n  bottom: 0;\n  left: 0;\n  right: 0;\n`;\n\nconst GradientLegendTick = styled.div`\n  position: absolute;\n  bottom: 0;\n  top: -18px;\n`;\n\nconst GradientLegendTickLine = styled.div`\n  position: absolute;\n  background-color: ${props => props.theme.eui.euiBorderColor};\n  width: 1px;\n  left: 0;\n  top: 15px;\n  bottom: 0;\n  ${GradientLegendTick}:first-child {\n    top: 2px;\n  }\n  ${GradientLegendTick}:last-child {\n    top: 2px;\n  }\n`;\n\nconst GradientLegendTickLabel = styled.div`\n  position: absolute;\n  font-size: 11px;\n  text-align: center;\n  top: 0;\n  left: 0;\n  white-space: nowrap;\n  transform: translate(-50%, 0);\n  ${GradientLegendTick}:first-child & {\n    padding-left: 5px;\n    transform: translate(0, 0);\n  }\n  ${GradientLegendTick}:last-child & {\n    padding-right: 5px;\n    transform: translate(-100%, 0);\n  }\n`;\n"]}]}