{"remainingRequest":"/home/anthony/git_workspaces/kibana/node_modules/thread-loader/dist/cjs.js??ref--10-1!/home/anthony/git_workspaces/kibana/node_modules/ts-loader/index.js??ref--10-2!/home/anthony/git_workspaces/kibana/x-pack/plugins/infra/public/components/logging/log_text_stream/item_message_field.tsx","dependencies":[{"path":"/home/anthony/git_workspaces/kibana/x-pack/plugins/infra/public/components/logging/log_text_stream/item_message_field.tsx","mtime":1567631711980},{"path":"/home/anthony/git_workspaces/kibana/node_modules/cache-loader/dist/cjs.js","mtime":1567666236302},{"path":"/home/anthony/git_workspaces/kibana/node_modules/thread-loader/dist/cjs.js","mtime":1567666239443},{"path":"/home/anthony/git_workspaces/kibana/node_modules/ts-loader/index.js","mtime":1567666229769}],"contextDependencies":[],"result":["/*\n * Copyright Elasticsearch B.V. and/or licensed to Elasticsearch B.V. under one\n * or more contributor license agreements. Licensed under the Elastic License;\n * you may not use this file except in compliance with the Elastic License.\n */\nimport * as tslib_1 from \"tslib\";\nimport { darken, transparentize } from 'polished';\nimport * as React from 'react';\nimport styled, { css } from 'styled-components';\nimport { tintOrShade } from '../../../utils/styles';\nimport { LogTextStreamItemField } from './item_field';\nvar LogTextStreamItemMessageField = /** @class */ (function (_super) {\n    tslib_1.__extends(LogTextStreamItemMessageField, _super);\n    function LogTextStreamItemMessageField() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    LogTextStreamItemMessageField.prototype.render = function () {\n        var _a = this.props, children = _a.children, highlights = _a.highlights, isHovered = _a.isHovered, isWrapped = _a.isWrapped, scale = _a.scale;\n        var hasHighlights = highlights.length > 0;\n        var content = hasHighlights ? renderHighlightFragments(children, highlights) : children;\n        return (React.createElement(LogTextStreamItemMessageFieldWrapper, { hasHighlights: hasHighlights, isHovered: isHovered, isWrapped: isWrapped, scale: scale }, content));\n    };\n    return LogTextStreamItemMessageField;\n}(React.PureComponent));\nexport { LogTextStreamItemMessageField };\nvar renderHighlightFragments = function (text, highlights) {\n    var renderedHighlights = highlights.reduce(function (_a, highlight) {\n        var lastFragmentEnd = _a.lastFragmentEnd, renderedFragments = _a.renderedFragments;\n        var fragmentStart = text.indexOf(highlight, lastFragmentEnd);\n        return {\n            lastFragmentEnd: fragmentStart + highlight.length,\n            renderedFragments: tslib_1.__spread(renderedFragments, [\n                text.slice(lastFragmentEnd, fragmentStart),\n                React.createElement(HighlightSpan, { key: fragmentStart }, highlight),\n            ]),\n        };\n    }, {\n        lastFragmentEnd: 0,\n        renderedFragments: [],\n    });\n    return tslib_1.__spread(renderedHighlights.renderedFragments, [text.slice(renderedHighlights.lastFragmentEnd)]);\n};\nvar highlightedFieldStyle = css(templateObject_1 || (templateObject_1 = tslib_1.__makeTemplateObject([\"\\n  background-color: \", \";\\n\"], [\"\\n  background-color: \",\n    \";\\n\"])), function (props) {\n    return tintOrShade(props.theme.eui.euiTextColor, props.theme.eui.euiColorSecondary, 0.15);\n});\nvar hoveredFieldStyle = css(templateObject_2 || (templateObject_2 = tslib_1.__makeTemplateObject([\"\\n  background-color: \", \";\\n\"], [\"\\n  background-color: \",\n    \";\\n\"])), function (props) {\n    return props.theme.darkMode\n        ? transparentize(0.9, darken(0.05, props.theme.eui.euiColorHighlight))\n        : darken(0.05, props.theme.eui.euiColorHighlight);\n});\nvar wrappedFieldStyle = css(templateObject_3 || (templateObject_3 = tslib_1.__makeTemplateObject([\"\\n  overflow: visible;\\n  white-space: pre-wrap;\\n  word-break: break-all;\\n\"], [\"\\n  overflow: visible;\\n  white-space: pre-wrap;\\n  word-break: break-all;\\n\"])));\nvar unwrappedFieldStyle = css(templateObject_4 || (templateObject_4 = tslib_1.__makeTemplateObject([\"\\n  overflow: hidden;\\n  white-space: pre;\\n\"], [\"\\n  overflow: hidden;\\n  white-space: pre;\\n\"])));\nvar LogTextStreamItemMessageFieldWrapper = LogTextStreamItemField.extend.attrs({})(templateObject_5 || (templateObject_5 = tslib_1.__makeTemplateObject([\"\\n  flex-grow: 1;\\n  text-overflow: ellipsis;\\n  background-color: \", \";\\n\\n  \", \";\\n  \", \";\\n  \", \";\\n\"], [\"\\n  flex-grow: 1;\\n  text-overflow: ellipsis;\\n  background-color: \", \";\\n\\n  \", \";\\n  \", \";\\n  \", \";\\n\"])), function (props) { return props.theme.eui.euiColorEmptyShade; }, function (props) { return (props.hasHighlights ? highlightedFieldStyle : ''); }, function (props) { return (props.isHovered ? hoveredFieldStyle : ''); }, function (props) { return (props.isWrapped ? wrappedFieldStyle : unwrappedFieldStyle); });\nvar HighlightSpan = styled.span(templateObject_6 || (templateObject_6 = tslib_1.__makeTemplateObject([\"\\n  display: inline-block;\\n  background-color: \", \";\\n  color: \", \";\\n  font-weight: \", \";\\n\"], [\"\\n  display: inline-block;\\n  background-color: \", \";\\n  color: \", \";\\n  font-weight: \", \";\\n\"])), function (props) { return props.theme.eui.euiColorSecondary; }, function (props) { return props.theme.eui.euiColorGhost; }, function (props) { return props.theme.eui.euiFontWeightMedium; });\nvar templateObject_1, templateObject_2, templateObject_3, templateObject_4, templateObject_5, templateObject_6;\n",{"version":3,"file":"/home/anthony/git_workspaces/kibana/x-pack/plugins/infra/public/components/logging/log_text_stream/item_message_field.tsx","sourceRoot":"","sources":["/home/anthony/git_workspaces/kibana/x-pack/plugins/infra/public/components/logging/log_text_stream/item_message_field.tsx"],"names":[],"mappings":"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","sourcesContent":["/*\n * Copyright Elasticsearch B.V. and/or licensed to Elasticsearch B.V. under one\n * or more contributor license agreements. Licensed under the Elastic License;\n * you may not use this file except in compliance with the Elastic License.\n */\n\nimport { darken, transparentize } from 'polished';\nimport * as React from 'react';\nimport styled, { css } from 'styled-components';\n\nimport { TextScale } from '../../../../common/log_text_scale';\nimport { tintOrShade } from '../../../utils/styles';\nimport { LogTextStreamItemField } from './item_field';\n\ninterface LogTextStreamItemMessageFieldProps {\n  children: string;\n  highlights: string[];\n  isHovered: boolean;\n  isWrapped: boolean;\n  scale: TextScale;\n}\n\nexport class LogTextStreamItemMessageField extends React.PureComponent<\n  LogTextStreamItemMessageFieldProps,\n  {}\n> {\n  public render() {\n    const { children, highlights, isHovered, isWrapped, scale } = this.props;\n\n    const hasHighlights = highlights.length > 0;\n    const content = hasHighlights ? renderHighlightFragments(children, highlights) : children;\n    return (\n      <LogTextStreamItemMessageFieldWrapper\n        hasHighlights={hasHighlights}\n        isHovered={isHovered}\n        isWrapped={isWrapped}\n        scale={scale}\n      >\n        {content}\n      </LogTextStreamItemMessageFieldWrapper>\n    );\n  }\n}\n\nconst renderHighlightFragments = (text: string, highlights: string[]): React.ReactNode[] => {\n  const renderedHighlights = highlights.reduce(\n    ({ lastFragmentEnd, renderedFragments }, highlight) => {\n      const fragmentStart = text.indexOf(highlight, lastFragmentEnd);\n      return {\n        lastFragmentEnd: fragmentStart + highlight.length,\n        renderedFragments: [\n          ...renderedFragments,\n          text.slice(lastFragmentEnd, fragmentStart),\n          <HighlightSpan key={fragmentStart}>{highlight}</HighlightSpan>,\n        ],\n      };\n    },\n    {\n      lastFragmentEnd: 0,\n      renderedFragments: [],\n    } as {\n      lastFragmentEnd: number;\n      renderedFragments: React.ReactNode[];\n    }\n  );\n\n  return [...renderedHighlights.renderedFragments, text.slice(renderedHighlights.lastFragmentEnd)];\n};\n\nconst highlightedFieldStyle = css`\n  background-color: ${props =>\n    tintOrShade(props.theme.eui.euiTextColor, props.theme.eui.euiColorSecondary, 0.15)};\n`;\n\nconst hoveredFieldStyle = css`\n  background-color: ${props =>\n    props.theme.darkMode\n      ? transparentize(0.9, darken(0.05, props.theme.eui.euiColorHighlight))\n      : darken(0.05, props.theme.eui.euiColorHighlight)};\n`;\n\nconst wrappedFieldStyle = css`\n  overflow: visible;\n  white-space: pre-wrap;\n  word-break: break-all;\n`;\n\nconst unwrappedFieldStyle = css`\n  overflow: hidden;\n  white-space: pre;\n`;\n\nconst LogTextStreamItemMessageFieldWrapper = LogTextStreamItemField.extend.attrs<{\n  hasHighlights: boolean;\n  isHovered: boolean;\n  isWrapped?: boolean;\n}>({})`\n  flex-grow: 1;\n  text-overflow: ellipsis;\n  background-color: ${props => props.theme.eui.euiColorEmptyShade};\n\n  ${props => (props.hasHighlights ? highlightedFieldStyle : '')};\n  ${props => (props.isHovered ? hoveredFieldStyle : '')};\n  ${props => (props.isWrapped ? wrappedFieldStyle : unwrappedFieldStyle)};\n`;\n\nconst HighlightSpan = styled.span`\n  display: inline-block;\n  background-color: ${props => props.theme.eui.euiColorSecondary};\n  color: ${props => props.theme.eui.euiColorGhost};\n  font-weight: ${props => props.theme.eui.euiFontWeightMedium};\n`;\n"]}]}