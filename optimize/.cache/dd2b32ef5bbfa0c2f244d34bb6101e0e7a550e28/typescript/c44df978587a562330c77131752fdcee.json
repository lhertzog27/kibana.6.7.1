{"remainingRequest":"/home/anthony/git_workspaces/kibana/node_modules/thread-loader/dist/cjs.js??ref--10-1!/home/anthony/git_workspaces/kibana/node_modules/ts-loader/index.js??ref--10-2!/home/anthony/git_workspaces/kibana/x-pack/plugins/infra/public/components/waffle/node_context_menu.tsx","dependencies":[{"path":"/home/anthony/git_workspaces/kibana/x-pack/plugins/infra/public/components/waffle/node_context_menu.tsx","mtime":1567631711982},{"path":"/home/anthony/git_workspaces/kibana/node_modules/cache-loader/dist/cjs.js","mtime":1567666236302},{"path":"/home/anthony/git_workspaces/kibana/node_modules/thread-loader/dist/cjs.js","mtime":1567666239443},{"path":"/home/anthony/git_workspaces/kibana/node_modules/ts-loader/index.js","mtime":1567666229769}],"contextDependencies":[],"result":["/*\n * Copyright Elasticsearch B.V. and/or licensed to Elasticsearch B.V. under one\n * or more contributor license agreements. Licensed under the Elastic License;\n * you may not use this file except in compliance with the Elastic License.\n */\nimport * as tslib_1 from \"tslib\";\nimport { EuiContextMenu, EuiPopover } from '@elastic/eui';\nimport { injectI18n } from '@kbn/i18n/react';\nimport React from 'react';\nimport { InfraNodeType } from '../../graphql/types';\nimport { getNodeDetailUrl, getNodeLogsUrl } from '../../pages/link_to';\nexport var NodeContextMenu = injectI18n(function (_a) {\n    var options = _a.options, timeRange = _a.timeRange, children = _a.children, node = _a.node, isPopoverOpen = _a.isPopoverOpen, closePopover = _a.closePopover, nodeType = _a.nodeType, intl = _a.intl;\n    var _b;\n    // Due to the changing nature of the fields between APM and this UI,\n    // We need to have some exceptions until 7.0 & ECS is finalized. Reference\n    // #26620 for the details for these fields.\n    // TODO: This is tech debt, remove it after 7.0 & ECS migration.\n    var APM_FIELDS = (_b = {},\n        _b[InfraNodeType.host] = 'context.system.hostname',\n        _b[InfraNodeType.container] = 'container.id',\n        _b[InfraNodeType.pod] = 'kubernetes.pod.uid',\n        _b);\n    var nodeLogsUrl = node.id\n        ? getNodeLogsUrl({\n            nodeType: nodeType,\n            nodeId: node.id,\n            time: timeRange.to,\n        })\n        : undefined;\n    var nodeDetailUrl = node.id\n        ? getNodeDetailUrl({\n            nodeType: nodeType,\n            nodeId: node.id,\n            from: timeRange.from,\n            to: timeRange.to,\n        })\n        : undefined;\n    var apmTracesUrl = {\n        name: intl.formatMessage({\n            id: 'xpack.infra.nodeContextMenu.viewAPMTraces',\n            defaultMessage: 'View {nodeType} APM traces',\n        }, { nodeType: nodeType }),\n        href: \"../app/apm#/traces?_g=()&kuery=\" + APM_FIELDS[nodeType] + \"~20~3A~20~22\" + node.id + \"~22\",\n    };\n    var panels = [\n        {\n            id: 0,\n            title: '',\n            items: tslib_1.__spread((nodeLogsUrl\n                ? [\n                    {\n                        name: intl.formatMessage({\n                            id: 'xpack.infra.nodeContextMenu.viewLogsName',\n                            defaultMessage: 'View logs',\n                        }),\n                        href: nodeLogsUrl,\n                    },\n                ]\n                : []), (nodeDetailUrl\n                ? [\n                    {\n                        name: intl.formatMessage({\n                            id: 'xpack.infra.nodeContextMenu.viewMetricsName',\n                            defaultMessage: 'View metrics',\n                        }),\n                        href: nodeDetailUrl,\n                    },\n                ]\n                : []), [apmTracesUrl]),\n        },\n    ];\n    return (React.createElement(EuiPopover, { closePopover: closePopover, id: node.pathId + \"-popover\", isOpen: isPopoverOpen, button: children, panelPaddingSize: \"none\" },\n        React.createElement(EuiContextMenu, { initialPanelId: 0, panels: panels })));\n});\n",{"version":3,"file":"/home/anthony/git_workspaces/kibana/x-pack/plugins/infra/public/components/waffle/node_context_menu.tsx","sourceRoot":"","sources":["/home/anthony/git_workspaces/kibana/x-pack/plugins/infra/public/components/waffle/node_context_menu.tsx"],"names":[],"mappings":"AAAA;;;;GAIG;;AAEH,OAAO,EAAE,cAAc,EAAiC,UAAU,EAAE,MAAM,cAAc,CAAC;AACzF,OAAO,EAAgB,UAAU,EAAE,MAAM,iBAAiB,CAAC;AAC3D,OAAO,KAAK,MAAM,OAAO,CAAC;AAE1B,OAAO,EAAE,aAAa,EAAuB,MAAM,qBAAqB,CAAC;AAEzE,OAAO,EAAE,gBAAgB,EAAE,cAAc,EAAE,MAAM,qBAAqB,CAAC;AAavE,MAAM,CAAC,IAAM,eAAe,GAAG,UAAU,CACvC,UAAC,EAA0F;QAAxF,oBAAO,EAAE,wBAAS,EAAE,sBAAQ,EAAE,cAAI,EAAE,gCAAa,EAAE,8BAAY,EAAE,sBAAQ,EAAE,cAAI;;IAChF,oEAAoE;IACpE,0EAA0E;IAC1E,2CAA2C;IAC3C,gEAAgE;IAChE,IAAM,UAAU;QACd,GAAC,aAAa,CAAC,IAAI,IAAG,yBAAyB;QAC/C,GAAC,aAAa,CAAC,SAAS,IAAG,cAAc;QACzC,GAAC,aAAa,CAAC,GAAG,IAAG,oBAAoB;WAC1C,CAAC;IAEF,IAAM,WAAW,GAAG,IAAI,CAAC,EAAE;QACzB,CAAC,CAAC,cAAc,CAAC;YACb,QAAQ,UAAA;YACR,MAAM,EAAE,IAAI,CAAC,EAAE;YACf,IAAI,EAAE,SAAS,CAAC,EAAE;SACnB,CAAC;QACJ,CAAC,CAAC,SAAS,CAAC;IACd,IAAM,aAAa,GAAG,IAAI,CAAC,EAAE;QAC3B,CAAC,CAAC,gBAAgB,CAAC;YACf,QAAQ,UAAA;YACR,MAAM,EAAE,IAAI,CAAC,EAAE;YACf,IAAI,EAAE,SAAS,CAAC,IAAI;YACpB,EAAE,EAAE,SAAS,CAAC,EAAE;SACjB,CAAC;QACJ,CAAC,CAAC,SAAS,CAAC;IAEd,IAAM,YAAY,GAAG;QACnB,IAAI,EAAE,IAAI,CAAC,aAAa,CACtB;YACE,EAAE,EAAE,2CAA2C;YAC/C,cAAc,EAAE,4BAA4B;SAC7C,EACD,EAAE,QAAQ,UAAA,EAAE,CACb;QACD,IAAI,EAAE,oCAAkC,UAAU,CAAC,QAAQ,CAAC,oBAAe,IAAI,CAAC,EAAE,QAAK;KACxF,CAAC;IAEF,IAAM,MAAM,GAAoC;QAC9C;YACE,EAAE,EAAE,CAAC;YACL,KAAK,EAAE,EAAE;YACT,KAAK,mBACA,CAAC,WAAW;gBACb,CAAC,CAAC;oBACE;wBACE,IAAI,EAAE,IAAI,CAAC,aAAa,CAAC;4BACvB,EAAE,EAAE,0CAA0C;4BAC9C,cAAc,EAAE,WAAW;yBAC5B,CAAC;wBACF,IAAI,EAAE,WAAW;qBAClB;iBACF;gBACH,CAAC,CAAC,EAAE,CAAC,EACJ,CAAC,aAAa;gBACf,CAAC,CAAC;oBACE;wBACE,IAAI,EAAE,IAAI,CAAC,aAAa,CAAC;4BACvB,EAAE,EAAE,6CAA6C;4BACjD,cAAc,EAAE,cAAc;yBAC/B,CAAC;wBACF,IAAI,EAAE,aAAa;qBACpB;iBACF;gBACH,CAAC,CAAC,EAAE,CAAC,EACJ,CAAC,YAAY,CAAC,CAClB;SACF;KACF,CAAC;IAEF,OAAO,CACL,oBAAC,UAAU,IACT,YAAY,EAAE,YAAY,EAC1B,EAAE,EAAK,IAAI,CAAC,MAAM,aAAU,EAC5B,MAAM,EAAE,aAAa,EACrB,MAAM,EAAE,QAAQ,EAChB,gBAAgB,EAAC,MAAM;QAEvB,oBAAC,cAAc,IAAC,cAAc,EAAE,CAAC,EAAE,MAAM,EAAE,MAAM,GAAI,CAC1C,CACd,CAAC;AACJ,CAAC,CACF,CAAC","sourcesContent":["/*\n * Copyright Elasticsearch B.V. and/or licensed to Elasticsearch B.V. under one\n * or more contributor license agreements. Licensed under the Elastic License;\n * you may not use this file except in compliance with the Elastic License.\n */\n\nimport { EuiContextMenu, EuiContextMenuPanelDescriptor, EuiPopover } from '@elastic/eui';\nimport { InjectedIntl, injectI18n } from '@kbn/i18n/react';\nimport React from 'react';\n\nimport { InfraNodeType, InfraTimerangeInput } from '../../graphql/types';\nimport { InfraWaffleMapNode, InfraWaffleMapOptions } from '../../lib/lib';\nimport { getNodeDetailUrl, getNodeLogsUrl } from '../../pages/link_to';\n\ninterface Props {\n  options: InfraWaffleMapOptions;\n  timeRange: InfraTimerangeInput;\n  children: any;\n  node: InfraWaffleMapNode;\n  nodeType: InfraNodeType;\n  isPopoverOpen: boolean;\n  closePopover: () => void;\n  intl: InjectedIntl;\n}\n\nexport const NodeContextMenu = injectI18n(\n  ({ options, timeRange, children, node, isPopoverOpen, closePopover, nodeType, intl }: Props) => {\n    // Due to the changing nature of the fields between APM and this UI,\n    // We need to have some exceptions until 7.0 & ECS is finalized. Reference\n    // #26620 for the details for these fields.\n    // TODO: This is tech debt, remove it after 7.0 & ECS migration.\n    const APM_FIELDS = {\n      [InfraNodeType.host]: 'context.system.hostname',\n      [InfraNodeType.container]: 'container.id',\n      [InfraNodeType.pod]: 'kubernetes.pod.uid',\n    };\n\n    const nodeLogsUrl = node.id\n      ? getNodeLogsUrl({\n          nodeType,\n          nodeId: node.id,\n          time: timeRange.to,\n        })\n      : undefined;\n    const nodeDetailUrl = node.id\n      ? getNodeDetailUrl({\n          nodeType,\n          nodeId: node.id,\n          from: timeRange.from,\n          to: timeRange.to,\n        })\n      : undefined;\n\n    const apmTracesUrl = {\n      name: intl.formatMessage(\n        {\n          id: 'xpack.infra.nodeContextMenu.viewAPMTraces',\n          defaultMessage: 'View {nodeType} APM traces',\n        },\n        { nodeType }\n      ),\n      href: `../app/apm#/traces?_g=()&kuery=${APM_FIELDS[nodeType]}~20~3A~20~22${node.id}~22`,\n    };\n\n    const panels: EuiContextMenuPanelDescriptor[] = [\n      {\n        id: 0,\n        title: '',\n        items: [\n          ...(nodeLogsUrl\n            ? [\n                {\n                  name: intl.formatMessage({\n                    id: 'xpack.infra.nodeContextMenu.viewLogsName',\n                    defaultMessage: 'View logs',\n                  }),\n                  href: nodeLogsUrl,\n                },\n              ]\n            : []),\n          ...(nodeDetailUrl\n            ? [\n                {\n                  name: intl.formatMessage({\n                    id: 'xpack.infra.nodeContextMenu.viewMetricsName',\n                    defaultMessage: 'View metrics',\n                  }),\n                  href: nodeDetailUrl,\n                },\n              ]\n            : []),\n          ...[apmTracesUrl],\n        ],\n      },\n    ];\n\n    return (\n      <EuiPopover\n        closePopover={closePopover}\n        id={`${node.pathId}-popover`}\n        isOpen={isPopoverOpen}\n        button={children}\n        panelPaddingSize=\"none\"\n      >\n        <EuiContextMenu initialPanelId={0} panels={panels} />\n      </EuiPopover>\n    );\n  }\n);\n"]}]}