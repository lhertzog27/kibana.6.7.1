{"remainingRequest":"/home/anthony/git_workspaces/kibana/node_modules/thread-loader/dist/cjs.js??ref--10-1!/home/anthony/git_workspaces/kibana/node_modules/ts-loader/index.js??ref--10-2!/home/anthony/git_workspaces/kibana/x-pack/plugins/apm/public/components/shared/Stacktrace/LibraryStackFrames.tsx","dependencies":[{"path":"/home/anthony/git_workspaces/kibana/x-pack/plugins/apm/public/components/shared/Stacktrace/LibraryStackFrames.tsx","mtime":1567631711866},{"path":"/home/anthony/git_workspaces/kibana/node_modules/cache-loader/dist/cjs.js","mtime":1567666236302},{"path":"/home/anthony/git_workspaces/kibana/node_modules/thread-loader/dist/cjs.js","mtime":1567666239443},{"path":"/home/anthony/git_workspaces/kibana/node_modules/ts-loader/index.js","mtime":1567666229769}],"contextDependencies":[],"result":["/*\n * Copyright Elasticsearch B.V. and/or licensed to Elasticsearch B.V. under one\n * or more contributor license agreements. Licensed under the Elastic License;\n * you may not use this file except in compliance with the Elastic License.\n */\nimport * as tslib_1 from \"tslib\";\nimport { EuiLink, EuiSpacer } from '@elastic/eui';\nimport { i18n } from '@kbn/i18n';\nimport React, { Fragment } from 'react';\nimport styled from 'styled-components';\nimport { units } from '../../../style/variables';\n// @ts-ignore\nimport { Ellipsis } from '../../shared/Icons';\nimport { Stackframe } from './Stackframe';\nvar LibraryFrameToggle = styled.div(templateObject_1 || (templateObject_1 = tslib_1.__makeTemplateObject([\"\\n  user-select: none;\\n\"], [\"\\n  user-select: none;\\n\"])));\nvar LibraryStackFrames = /** @class */ (function (_super) {\n    tslib_1.__extends(LibraryStackFrames, _super);\n    function LibraryStackFrames() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.state = {\n            isVisible: _this.props.initialVisiblity\n        };\n        _this.onClick = function () {\n            _this.setState(function (_a) {\n                var isVisible = _a.isVisible;\n                return ({ isVisible: !isVisible });\n            });\n        };\n        return _this;\n    }\n    LibraryStackFrames.prototype.render = function () {\n        var _a = this.props, stackframes = _a.stackframes, codeLanguage = _a.codeLanguage;\n        var isVisible = this.state.isVisible;\n        if (stackframes.length === 0) {\n            return null;\n        }\n        if (stackframes.length === 1) {\n            return (React.createElement(Stackframe, { isLibraryFrame: true, codeLanguage: codeLanguage, stackframe: stackframes[0] }));\n        }\n        return (React.createElement(\"div\", null,\n            React.createElement(LibraryFrameToggle, null,\n                React.createElement(EuiLink, { onClick: this.onClick },\n                    React.createElement(Ellipsis, { horizontal: isVisible, style: { marginRight: units.half } }),\n                    ' ',\n                    i18n.translate('xpack.apm.stacktraceTab.libraryFramesToogleButtonLabel', {\n                        defaultMessage: '{stackframesLength} library frames',\n                        values: { stackframesLength: stackframes.length }\n                    }))),\n            React.createElement(\"div\", null, isVisible && (React.createElement(Fragment, null,\n                React.createElement(EuiSpacer, { size: \"m\" }),\n                stackframes.map(function (stackframe, i) { return (React.createElement(Stackframe, { key: i, isLibraryFrame: true, codeLanguage: codeLanguage, stackframe: stackframe })); }))))));\n    };\n    return LibraryStackFrames;\n}(React.Component));\nexport { LibraryStackFrames };\nvar templateObject_1;\n",{"version":3,"file":"/home/anthony/git_workspaces/kibana/x-pack/plugins/apm/public/components/shared/Stacktrace/LibraryStackFrames.tsx","sourceRoot":"","sources":["/home/anthony/git_workspaces/kibana/x-pack/plugins/apm/public/components/shared/Stacktrace/LibraryStackFrames.tsx"],"names":[],"mappings":"AAAA;;;;GAIG;;AAEH,OAAO,EAAE,OAAO,EAAE,SAAS,EAAE,MAAM,cAAc,CAAC;AAClD,OAAO,EAAE,IAAI,EAAE,MAAM,WAAW,CAAC;AACjC,OAAO,KAAK,EAAE,EAAE,QAAQ,EAAE,MAAM,OAAO,CAAC;AACxC,OAAO,MAAM,MAAM,mBAAmB,CAAC;AAEvC,OAAO,EAAE,KAAK,EAAE,MAAM,0BAA0B,CAAC;AACjD,aAAa;AACb,OAAO,EAAE,QAAQ,EAAE,MAAM,oBAAoB,CAAC;AAC9C,OAAO,EAAE,UAAU,EAAE,MAAM,cAAc,CAAC;AAE1C,IAAM,kBAAkB,GAAG,MAAM,CAAC,GAAG,qGAAA,0BAEpC,IAAA,CAAC;AAYF;IAAwC,8CAA6B;IAArE;QAAA,qEA8DC;QA7DQ,WAAK,GAAG;YACb,SAAS,EAAE,KAAI,CAAC,KAAK,CAAC,gBAAgB;SACvC,CAAC;QAEK,aAAO,GAAG;YACf,KAAI,CAAC,QAAQ,CAAC,UAAC,EAAa;oBAAX,wBAAS;gBAAO,OAAA,CAAC,EAAE,SAAS,EAAE,CAAC,SAAS,EAAE,CAAC;YAA3B,CAA2B,CAAC,CAAC;QAChE,CAAC,CAAC;;IAuDJ,CAAC;IArDQ,mCAAM,GAAb;QACQ,IAAA,eAA0C,EAAxC,4BAAW,EAAE,8BAAY,CAAgB;QACzC,IAAA,gCAAS,CAAgB;QACjC,IAAI,WAAW,CAAC,MAAM,KAAK,CAAC,EAAE;YAC5B,OAAO,IAAI,CAAC;SACb;QAED,IAAI,WAAW,CAAC,MAAM,KAAK,CAAC,EAAE;YAC5B,OAAO,CACL,oBAAC,UAAU,IACT,cAAc,QACd,YAAY,EAAE,YAAY,EAC1B,UAAU,EAAE,WAAW,CAAC,CAAC,CAAC,GAC1B,CACH,CAAC;SACH;QAED,OAAO,CACL;YACE,oBAAC,kBAAkB;gBACjB,oBAAC,OAAO,IAAC,OAAO,EAAE,IAAI,CAAC,OAAO;oBAC5B,oBAAC,QAAQ,IACP,UAAU,EAAE,SAAS,EACrB,KAAK,EAAE,EAAE,WAAW,EAAE,KAAK,CAAC,IAAI,EAAE,GAClC;oBAAC,GAAG;oBACL,IAAI,CAAC,SAAS,CACb,wDAAwD,EACxD;wBACE,cAAc,EAAE,oCAAoC;wBACpD,MAAM,EAAE,EAAE,iBAAiB,EAAE,WAAW,CAAC,MAAM,EAAE;qBAClD,CACF,CACO,CACS;YAErB,iCACG,SAAS,IAAI,CACZ,oBAAC,QAAQ;gBACP,oBAAC,SAAS,IAAC,IAAI,EAAC,GAAG,GAAG;gBACrB,WAAW,CAAC,GAAG,CAAC,UAAC,UAAU,EAAE,CAAC,IAAK,OAAA,CAClC,oBAAC,UAAU,IACT,GAAG,EAAE,CAAC,EACN,cAAc,QACd,YAAY,EAAE,YAAY,EAC1B,UAAU,EAAE,UAAU,GACtB,CACH,EAPmC,CAOnC,CAAC,CACO,CACZ,CACG,CACF,CACP,CAAC;IACJ,CAAC;IACH,yBAAC;AAAD,CAAC,AA9DD,CAAwC,KAAK,CAAC,SAAS,GA8DtD","sourcesContent":["/*\n * Copyright Elasticsearch B.V. and/or licensed to Elasticsearch B.V. under one\n * or more contributor license agreements. Licensed under the Elastic License;\n * you may not use this file except in compliance with the Elastic License.\n */\n\nimport { EuiLink, EuiSpacer } from '@elastic/eui';\nimport { i18n } from '@kbn/i18n';\nimport React, { Fragment } from 'react';\nimport styled from 'styled-components';\nimport { IStackframe } from 'x-pack/plugins/apm/typings/es_schemas/Stackframe';\nimport { units } from '../../../style/variables';\n// @ts-ignore\nimport { Ellipsis } from '../../shared/Icons';\nimport { Stackframe } from './Stackframe';\n\nconst LibraryFrameToggle = styled.div`\n  user-select: none;\n`;\n\ninterface Props {\n  stackframes: IStackframe[];\n  codeLanguage?: string;\n  initialVisiblity: boolean;\n}\n\ninterface State {\n  isVisible: boolean;\n}\n\nexport class LibraryStackFrames extends React.Component<Props, State> {\n  public state = {\n    isVisible: this.props.initialVisiblity\n  };\n\n  public onClick = () => {\n    this.setState(({ isVisible }) => ({ isVisible: !isVisible }));\n  };\n\n  public render() {\n    const { stackframes, codeLanguage } = this.props;\n    const { isVisible } = this.state;\n    if (stackframes.length === 0) {\n      return null;\n    }\n\n    if (stackframes.length === 1) {\n      return (\n        <Stackframe\n          isLibraryFrame\n          codeLanguage={codeLanguage}\n          stackframe={stackframes[0]}\n        />\n      );\n    }\n\n    return (\n      <div>\n        <LibraryFrameToggle>\n          <EuiLink onClick={this.onClick}>\n            <Ellipsis\n              horizontal={isVisible}\n              style={{ marginRight: units.half }}\n            />{' '}\n            {i18n.translate(\n              'xpack.apm.stacktraceTab.libraryFramesToogleButtonLabel',\n              {\n                defaultMessage: '{stackframesLength} library frames',\n                values: { stackframesLength: stackframes.length }\n              }\n            )}\n          </EuiLink>\n        </LibraryFrameToggle>\n\n        <div>\n          {isVisible && (\n            <Fragment>\n              <EuiSpacer size=\"m\" />\n              {stackframes.map((stackframe, i) => (\n                <Stackframe\n                  key={i}\n                  isLibraryFrame\n                  codeLanguage={codeLanguage}\n                  stackframe={stackframe}\n                />\n              ))}\n            </Fragment>\n          )}\n        </div>\n      </div>\n    );\n  }\n}\n"]}]}