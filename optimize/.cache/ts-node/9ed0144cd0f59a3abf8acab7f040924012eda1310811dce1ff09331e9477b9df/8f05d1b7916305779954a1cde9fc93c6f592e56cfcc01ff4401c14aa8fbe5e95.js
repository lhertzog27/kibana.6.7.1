"use strict";
/*
 * Copyright Elasticsearch B.V. and/or licensed to Elasticsearch B.V. under one
 * or more contributor license agreements. Licensed under the Elastic License;
 * you may not use this file except in compliance with the Elastic License.
 */
Object.defineProperty(exports, "__esModule", { value: true });
function addMiddlewareToChain(prevMiddleware, middleware) {
    const beforeSave = middleware.beforeSave
        ? (params) => middleware.beforeSave(params).then(prevMiddleware.beforeSave)
        : prevMiddleware.beforeSave;
    const beforeRun = middleware.beforeRun
        ? (params) => middleware.beforeRun(params).then(prevMiddleware.beforeRun)
        : prevMiddleware.beforeRun;
    return {
        beforeSave,
        beforeRun,
    };
}
exports.addMiddlewareToChain = addMiddlewareToChain;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiL2hvbWUvYW50aG9ueS9naXRfd29ya3NwYWNlcy9raWJhbmEveC1wYWNrL3BsdWdpbnMvdGFza19tYW5hZ2VyL2xpYi9taWRkbGV3YXJlLnRzIiwic291cmNlcyI6WyIvaG9tZS9hbnRob255L2dpdF93b3Jrc3BhY2VzL2tpYmFuYS94LXBhY2svcGx1Z2lucy90YXNrX21hbmFnZXIvbGliL21pZGRsZXdhcmUudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjtBQUFBOzs7O0dBSUc7O0FBMkJILFNBQWdCLG9CQUFvQixDQUFDLGNBQTBCLEVBQUUsVUFBc0I7SUFDckYsTUFBTSxVQUFVLEdBQUcsVUFBVSxDQUFDLFVBQVU7UUFDdEMsQ0FBQyxDQUFDLENBQUMsTUFBa0MsRUFBRSxFQUFFLENBQ3JDLFVBQVUsQ0FBQyxVQUFVLENBQUMsTUFBTSxDQUFDLENBQUMsSUFBSSxDQUFDLGNBQWMsQ0FBQyxVQUFVLENBQUM7UUFDakUsQ0FBQyxDQUFDLGNBQWMsQ0FBQyxVQUFVLENBQUM7SUFFOUIsTUFBTSxTQUFTLEdBQUcsVUFBVSxDQUFDLFNBQVM7UUFDcEMsQ0FBQyxDQUFDLENBQUMsTUFBa0IsRUFBRSxFQUFFLENBQUMsVUFBVSxDQUFDLFNBQVMsQ0FBQyxNQUFNLENBQUMsQ0FBQyxJQUFJLENBQUMsY0FBYyxDQUFDLFNBQVMsQ0FBQztRQUNyRixDQUFDLENBQUMsY0FBYyxDQUFDLFNBQVMsQ0FBQztJQUU3QixPQUFPO1FBQ0wsVUFBVTtRQUNWLFNBQVM7S0FDVixDQUFDO0FBQ0osQ0FBQztBQWRELG9EQWNDIiwic291cmNlc0NvbnRlbnQiOlsiLypcbiAqIENvcHlyaWdodCBFbGFzdGljc2VhcmNoIEIuVi4gYW5kL29yIGxpY2Vuc2VkIHRvIEVsYXN0aWNzZWFyY2ggQi5WLiB1bmRlciBvbmVcbiAqIG9yIG1vcmUgY29udHJpYnV0b3IgbGljZW5zZSBhZ3JlZW1lbnRzLiBMaWNlbnNlZCB1bmRlciB0aGUgRWxhc3RpYyBMaWNlbnNlO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBFbGFzdGljIExpY2Vuc2UuXG4gKi9cblxuaW1wb3J0IHsgUnVuQ29udGV4dCwgVGFza0luc3RhbmNlIH0gZnJvbSAnLi4vdGFzayc7XG5cbi8qXG4gKiBCZWZvcmVTYXZlTWlkZGxld2FyZVBhcmFtcyBpcyBuZWFybHkgaWRlbnRpY2FsIHRvIFJ1bkNvbnRleHQsIGJ1dFxuICogdGFza0luc3RhbmNlIGlzIGJlZm9yZSBzYXZlIChubyBfaWQgcHJvcGVydHkpXG4gKlxuICogdGFza0luc3RhbmNlIHByb3BlcnR5IGlzIGd1YXJhbnRlZWQgdG8gZXhpc3QuIFRoZSBwYXJhbXMgY2FuIG9wdGlvbmFsbHlcbiAqIGluY2x1ZGUgZmllbGRzIGZyb20gYW4gXCJvcHRpb25zXCIgb2JqZWN0IHBhc3NlZCBhcyB0aGUgMm5kIHBhcmFtZXRlciB0b1xuICogdGFza01hbmFnZXIuc2NoZWR1bGUoKVxuICovXG5leHBvcnQgaW50ZXJmYWNlIEJlZm9yZVNhdmVNaWRkbGV3YXJlUGFyYW1zIHtcbiAgdGFza0luc3RhbmNlOiBUYXNrSW5zdGFuY2U7XG59XG5cbmV4cG9ydCB0eXBlIEJlZm9yZVNhdmVGdW5jdGlvbiA9IChcbiAgcGFyYW1zOiBCZWZvcmVTYXZlTWlkZGxld2FyZVBhcmFtc1xuKSA9PiBQcm9taXNlPEJlZm9yZVNhdmVNaWRkbGV3YXJlUGFyYW1zPjtcblxuZXhwb3J0IHR5cGUgQmVmb3JlUnVuRnVuY3Rpb24gPSAocGFyYW1zOiBSdW5Db250ZXh0KSA9PiBQcm9taXNlPFJ1bkNvbnRleHQ+O1xuXG5leHBvcnQgaW50ZXJmYWNlIE1pZGRsZXdhcmUge1xuICBiZWZvcmVTYXZlOiBCZWZvcmVTYXZlRnVuY3Rpb247XG4gIGJlZm9yZVJ1bjogQmVmb3JlUnVuRnVuY3Rpb247XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBhZGRNaWRkbGV3YXJlVG9DaGFpbihwcmV2TWlkZGxld2FyZTogTWlkZGxld2FyZSwgbWlkZGxld2FyZTogTWlkZGxld2FyZSkge1xuICBjb25zdCBiZWZvcmVTYXZlID0gbWlkZGxld2FyZS5iZWZvcmVTYXZlXG4gICAgPyAocGFyYW1zOiBCZWZvcmVTYXZlTWlkZGxld2FyZVBhcmFtcykgPT5cbiAgICAgICAgbWlkZGxld2FyZS5iZWZvcmVTYXZlKHBhcmFtcykudGhlbihwcmV2TWlkZGxld2FyZS5iZWZvcmVTYXZlKVxuICAgIDogcHJldk1pZGRsZXdhcmUuYmVmb3JlU2F2ZTtcblxuICBjb25zdCBiZWZvcmVSdW4gPSBtaWRkbGV3YXJlLmJlZm9yZVJ1blxuICAgID8gKHBhcmFtczogUnVuQ29udGV4dCkgPT4gbWlkZGxld2FyZS5iZWZvcmVSdW4ocGFyYW1zKS50aGVuKHByZXZNaWRkbGV3YXJlLmJlZm9yZVJ1bilcbiAgICA6IHByZXZNaWRkbGV3YXJlLmJlZm9yZVJ1bjtcblxuICByZXR1cm4ge1xuICAgIGJlZm9yZVNhdmUsXG4gICAgYmVmb3JlUnVuLFxuICB9O1xufVxuIl19