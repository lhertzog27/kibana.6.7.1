"use strict";
/*
 * Copyright Elasticsearch B.V. and/or licensed to Elasticsearch B.V. under one
 * or more contributor license agreements. Licensed under the Elastic License;
 * you may not use this file except in compliance with the Elastic License.
 */
Object.defineProperty(exports, "__esModule", { value: true });
const fp_1 = require("lodash/fp");
const field_filter_processor_1 = require("../common/field_filter_processor");
const group_by_processor_1 = require("../common/group_by_processor");
const nodes_processor_1 = require("../common/nodes_processor");
const query_procssor_1 = require("../common/query_procssor");
const date_histogram_processor_1 = require("./date_histogram_processor");
const metric_buckets_processor_1 = require("./metric_buckets_processor");
exports.createLastNProcessor = (options) => {
    return fp_1.pipe(field_filter_processor_1.fieldsFilterProcessor(options), nodes_processor_1.nodesProcessor(options), query_procssor_1.queryProcessor(options), group_by_processor_1.groupByProcessor(options), date_histogram_processor_1.dateHistogramProcessor(options), metric_buckets_processor_1.metricBucketsProcessor(options));
};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiL2hvbWUvYW50aG9ueS9naXRfd29ya3NwYWNlcy9raWJhbmEveC1wYWNrL3BsdWdpbnMvaW5mcmEvc2VydmVyL2xpYi9hZGFwdGVycy9ub2Rlcy9wcm9jZXNzb3JzL2xhc3QvaW5kZXgudHMiLCJzb3VyY2VzIjpbIi9ob21lL2FudGhvbnkvZ2l0X3dvcmtzcGFjZXMva2liYW5hL3gtcGFjay9wbHVnaW5zL2luZnJhL3NlcnZlci9saWIvYWRhcHRlcnMvbm9kZXMvcHJvY2Vzc29ycy9sYXN0L2luZGV4LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7QUFBQTs7OztHQUlHOztBQUVILGtDQUFpQztBQU1qQyw2RUFBeUU7QUFDekUscUVBQWdFO0FBQ2hFLCtEQUEyRDtBQUMzRCw2REFBMEQ7QUFDMUQseUVBQW9FO0FBQ3BFLHlFQUFvRTtBQUV2RCxRQUFBLG9CQUFvQixHQUFHLENBQ2xDLE9BQW9DLEVBQ1UsRUFBRTtJQUNoRCxPQUFPLFNBQUksQ0FDVCw4Q0FBcUIsQ0FBQyxPQUFPLENBQUMsRUFDOUIsZ0NBQWMsQ0FBQyxPQUFPLENBQUMsRUFDdkIsK0JBQWMsQ0FBQyxPQUFPLENBQUMsRUFDdkIscUNBQWdCLENBQUMsT0FBTyxDQUFDLEVBQ3pCLGlEQUFzQixDQUFDLE9BQU8sQ0FBQyxFQUMvQixpREFBc0IsQ0FBQyxPQUFPLENBQUMsQ0FDaEMsQ0FBQztBQUNKLENBQUMsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbIi8qXG4gKiBDb3B5cmlnaHQgRWxhc3RpY3NlYXJjaCBCLlYuIGFuZC9vciBsaWNlbnNlZCB0byBFbGFzdGljc2VhcmNoIEIuVi4gdW5kZXIgb25lXG4gKiBvciBtb3JlIGNvbnRyaWJ1dG9yIGxpY2Vuc2UgYWdyZWVtZW50cy4gTGljZW5zZWQgdW5kZXIgdGhlIEVsYXN0aWMgTGljZW5zZTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgRWxhc3RpYyBMaWNlbnNlLlxuICovXG5cbmltcG9ydCB7IHBpcGUgfSBmcm9tICdsb2Rhc2gvZnAnO1xuaW1wb3J0IHtcbiAgSW5mcmFFU1NlYXJjaEJvZHksXG4gIEluZnJhUHJvY2Vzb3JSZXF1ZXN0T3B0aW9ucyxcbiAgSW5mcmFQcm9jZXNzb3JUcmFuc2Zvcm1lcixcbn0gZnJvbSAnLi4vLi4vYWRhcHRlcl90eXBlcyc7XG5pbXBvcnQgeyBmaWVsZHNGaWx0ZXJQcm9jZXNzb3IgfSBmcm9tICcuLi9jb21tb24vZmllbGRfZmlsdGVyX3Byb2Nlc3Nvcic7XG5pbXBvcnQgeyBncm91cEJ5UHJvY2Vzc29yIH0gZnJvbSAnLi4vY29tbW9uL2dyb3VwX2J5X3Byb2Nlc3Nvcic7XG5pbXBvcnQgeyBub2Rlc1Byb2Nlc3NvciB9IGZyb20gJy4uL2NvbW1vbi9ub2Rlc19wcm9jZXNzb3InO1xuaW1wb3J0IHsgcXVlcnlQcm9jZXNzb3IgfSBmcm9tICcuLi9jb21tb24vcXVlcnlfcHJvY3Nzb3InO1xuaW1wb3J0IHsgZGF0ZUhpc3RvZ3JhbVByb2Nlc3NvciB9IGZyb20gJy4vZGF0ZV9oaXN0b2dyYW1fcHJvY2Vzc29yJztcbmltcG9ydCB7IG1ldHJpY0J1Y2tldHNQcm9jZXNzb3IgfSBmcm9tICcuL21ldHJpY19idWNrZXRzX3Byb2Nlc3Nvcic7XG5cbmV4cG9ydCBjb25zdCBjcmVhdGVMYXN0TlByb2Nlc3NvciA9IChcbiAgb3B0aW9uczogSW5mcmFQcm9jZXNvclJlcXVlc3RPcHRpb25zXG4pOiBJbmZyYVByb2Nlc3NvclRyYW5zZm9ybWVyPEluZnJhRVNTZWFyY2hCb2R5PiA9PiB7XG4gIHJldHVybiBwaXBlKFxuICAgIGZpZWxkc0ZpbHRlclByb2Nlc3NvcihvcHRpb25zKSxcbiAgICBub2Rlc1Byb2Nlc3NvcihvcHRpb25zKSxcbiAgICBxdWVyeVByb2Nlc3NvcihvcHRpb25zKSxcbiAgICBncm91cEJ5UHJvY2Vzc29yKG9wdGlvbnMpLFxuICAgIGRhdGVIaXN0b2dyYW1Qcm9jZXNzb3Iob3B0aW9ucyksXG4gICAgbWV0cmljQnVja2V0c1Byb2Nlc3NvcihvcHRpb25zKVxuICApO1xufTtcbiJdfQ==